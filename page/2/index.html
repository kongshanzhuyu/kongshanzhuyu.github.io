<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ABetaâ€™s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="ABetaâ€™s blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="ABetaâ€™s blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ABetaâ€™s blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="ABetaâ€™s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ABetaâ€™s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="ios-navigationbarçš„åˆ·æ–°" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/navigationbarçš„åˆ·æ–°/" class="article-date">
  <time datetime="2015-04-15T11:20:14.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/navigationbarçš„åˆ·æ–°/">navigationBarçš„åˆ·æ–°</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="navigationBarçš„åˆ·æ–°">navigationBarçš„åˆ·æ–°</h2><p>ã€€ã€€é€šè¿‡å‰é¢ä»‹ç»çš„å†…å®¹ï¼Œæˆ‘ä»¬çŸ¥é“navigationBarä¸­åŒ…å«äº†è¿™å‡ ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼šleftBarButtonItem, rightBarButtonItem, backBarButtonItem, titleã€‚å½“ä¸€ä¸ªview controlleræ·»åŠ åˆ°navigationControllerä»¥åï¼ŒnavigationBarçš„æ˜¾ç¤ºéµå¾ªä¸€ä¸‹å‡ ä¸ªåŸåˆ™ï¼š</p>
<p>ã€€ã€€1ï¼‰ã€Left side of the navigationBar</p>
<p>ã€€ã€€aï¼‰å¦‚æœå½“å‰çš„viewControllerè®¾ç½®äº†leftBarButtonItemï¼Œåˆ™æ˜¾ç¤ºå½“å‰VCæ‰€è‡ªå¸¦çš„leftBarButtonItemã€‚</p>
<p>ã€€ã€€bï¼‰å¦‚æœå½“å‰çš„viewControlleræ²¡æœ‰è®¾ç½®leftBarButtonItemï¼Œä¸”å½“å‰VCä¸æ˜¯rootVCçš„æ—¶å€™ï¼Œåˆ™æ˜¾ç¤ºå‰ä¸€å±‚VCçš„backBarButtonItemã€‚å¦‚æœå‰ä¸€å±‚çš„VCæ²¡æœ‰æ˜¾ç¤ºçš„æŒ‡å®šbackBarButtonItemçš„è¯ï¼Œç³»ç»Ÿå°†ä¼šæ ¹æ®å‰ä¸€å±‚VCçš„titleå±æ€§è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªbackæŒ‰é’®ï¼Œå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>ã€€ã€€cï¼‰å¦‚æœå½“å‰çš„viewControlleræ²¡æœ‰è®¾ç½®leftBarButtonItemï¼Œä¸”å½“å‰VCå·²æ˜¯rootVCçš„æ—¶å€™ï¼Œå·¦è¾¹å°†ä¸æ˜¾ç¤ºä»»ä½•ä¸œè¥¿ã€‚</p>
<p>ã€€ã€€æ­¤å¤„æ³¨æ„ï¼š5.0ä¸­æ–°å¢åŠ äº†ä¸€ä¸ªå±æ€§leftItemsSupplementBackButtonï¼Œé€šè¿‡æŒ‡å®šè¯¥å±æ€§ä¸ºYESï¼Œå¯ä»¥è®©leftBarButtonItemå’ŒbackBarButtonItemåŒæ—¶æ˜¾ç¤ºï¼Œå…¶ä¸­leftBarButtonItemæ˜¾ç¤ºåœ¨backBarButtonItemçš„å³è¾¹ã€‚</p>
<p>ã€€ã€€2)ã€titleéƒ¨åˆ†</p>
<p>ã€€ã€€aï¼‰å¦‚æœå½“å‰VCé€šè¿‡ .navigationItem.titleViewæŒ‡å®šäº†è‡ªå®šä¹‰çš„titleViewï¼Œç³»ç»Ÿå°†ä¼šæ˜¾ç¤ºæŒ‡å®šçš„titleViewï¼Œæ­¤å¤„è¦æ³¨æ„è‡ªå®šä¹‰titleViewçš„é«˜åº¦ä¸è¦è¶…è¿‡navigationBarçš„é«˜åº¦ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºå‡ºç•Œã€‚</p>
<p>ã€€ã€€bï¼‰å¦‚æœå½“å‰VCæ²¡æœ‰æŒ‡å®štitleViewï¼Œç³»ç»Ÿåˆ™ä¼šæ ¹æ®å½“å‰VCçš„titleæˆ–è€…å½“å‰VCçš„navigationItem.titleçš„å†…å®¹åˆ›å»ºä¸€ä¸ªUILabelå¹¶æ˜¾ç¤ºï¼Œå…¶ä¸­å¦‚æœæŒ‡å®šäº†navigationItem.titleçš„è¯ï¼Œåˆ™ä¼˜å…ˆæ˜¾ç¤ºnavigationItem.titleçš„å†…å®¹ã€‚</p>
<p>ã€€ã€€3)ã€Right side of the navigationBar</p>
<p>ã€€ã€€aï¼‰å¦‚æœå½“å‰VCæŒ‡å®šäº†rightBarButtonItemçš„è¯ï¼Œåˆ™æ˜¾ç¤ºæŒ‡å®šçš„å†…å®¹ã€‚</p>
<p>ã€€ã€€bï¼‰å¦‚æœå½“å‰VCæ²¡æœ‰æŒ‡å®šrightBarButtonItemçš„è¯ï¼Œåˆ™ä¸æ˜¾ç¤ºä»»ä½•ä¸œè¥¿ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/15/navigationbarçš„åˆ·æ–°/" data-id="cie2ful27000xc2s6lpl1uwhx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/navigationBarçš„åˆ·æ–°/">navigationBarçš„åˆ·æ–°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-sqliteå‘½ä»¤è¡Œå·¥å…·" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/sqliteå‘½ä»¤è¡Œå·¥å…·/" class="article-date">
  <time datetime="2015-04-15T11:20:14.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/sqliteå‘½ä»¤è¡Œå·¥å…·/">sqlite3å‘½ä»¤è¡Œå·¥å…·</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>sqlite3å‘½ä»¤è¡Œå·¥å…·æ˜¯åŸºäºç»ˆç«¯çš„SQLiteè½¯ä»¶ï¼Œå¯ä»¥æŸ¥è¯¢äº¤äº’ï¼Œå¹¶ä¸”å¯ä»¥å¤šç§æ ¼å¼æ˜¾ç¤ºç»“æœã€‚å®ƒä¹Ÿå¯ä»¥ç”¨åœ¨è„šæœ¬ä¸­ã€‚</p>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">~  sqlite3 <span class="keyword">test</span>.<span class="keyword">db</span></span><br><span class="line">SQLite <span class="keyword">version</span> 3.8.5 2014-08-15 22:37:57</span><br><span class="line">Enter <span class="string">".help"</span> <span class="keyword">for</span> usage hints.</span><br><span class="line">sqlite&gt;</span><br></pre></td></tr></table></figure>
<p>.helpå‘½ä»¤æ˜¯sqlite3çš„å…ƒå‘½ä»¤å·¥å…·ä¹‹ä¸€,å®ƒåˆ—å‡ºäº†sqlite3æ‰€æœ‰çš„å…ƒå‘½ä»¤ã€‚ </p>
<p>.exit å’Œ .quit å‘½ä»¤é€€å‡ºsqlite3ä¼šè¯ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ç»„åˆé”®Ctrl + D é€€å‡ºsqlite3ã€‚</p>
<p>.databaseså‘½ä»¤æ˜¾ç¤ºäº†è¿æ¥æ•°æ®åº“ã€‚</p>
<p>.tablesè¡¨å‘½ä»¤åˆ—å‡ºå¯ç”¨çš„è¡¨ã€‚</p>
<h2 id="åˆ›å»ºä¸€ä¸ªæ•°æ®åº“">åˆ›å»ºä¸€ä¸ªæ•°æ®åº“</h2><p>ä½¿ç”¨sqlite3å‘½ä»¤è¡Œå·¥å…·æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“æ–‡ä»¶ï¼š</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sqlite3 <span class="keyword">test</span>.<span class="keyword">db</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">è¿™é‡Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„<span class="keyword">test</span>.<span class="keyword">db</span>æ•°æ®åº“ã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™æ‰“å¼€æ•°æ®åº“ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##åˆ›å»ºæ•°æ®åº“è¡¨</span><br></pre></td></tr></table></figure>
<p>CREATE TABLE Cars(Id INTEGER PRIMARY KEY, Name TEXT, Price INTEGER);<br>INSERT INTO â€œCarsâ€ VALUES(1,â€™Audiâ€™,52642);<br>INSERT INTO â€œCarsâ€ VALUES(2,â€™Mercedesâ€™,57127);<br>INSERT INTO â€œCarsâ€ VALUES(3,â€™Skodaâ€™,9000);<br>INSERT INTO â€œCarsâ€ VALUES(4,â€™Volvoâ€™,29000);<br>INSERT INTO â€œCarsâ€ VALUES(5,â€™Bentleyâ€™,350000);<br>INSERT INTO â€œCarsâ€ VALUES(6,â€™Citroenâ€™,21000);<br>INSERT INTO â€œCarsâ€ VALUES(7,â€™Hummerâ€™,41400);<br>INSERT INTO â€œCarsâ€ VALUES(8,â€™Volkswagenâ€™,21600);<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="preprocessor">##åŸºæœ¬sqlite3å…ƒå‘½ä»¤</span></span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .tables<br>Cars<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">.tableså‘½ä»¤æ˜¾ç¤ºå¯ç”¨çš„è¡¨ã€‚</span></span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; SELECT * FROM cars;<br>1|Audi|52642<br>2|Mercedes|57127<br>3|Skoda|9000<br>4|Volvo|29000<br>5|Bentley|350000<br>6|Citroen|21000<br>7|Hummer|41400<br>8|Volkswagen|21600<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">SELECTæŸ¥è¯¢è¯­å¥çš„è¾“å‡ºé»˜è®¤æƒ…å†µä¸‹æ˜¯æŒ‰è¡Œè¾“å‡ºï¼Œè¡Œåˆ†éš”ç¬¦æ˜¯<span class="escape">`|</span><span class="escape">`ã€‚</span></span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .separator :<br>sqlite&gt; SELECT * FROM cars;<br>1:Audi:52642<br>2:Mercedes:57127<br>3:Skoda:9000<br>4:Volvo:29000<br>5:Bentley:350000<br>6:Citroen:21000<br>7:Hummer:41400<br>8:Volkswagen:21600<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">ä¸Šé¢ä½¿ç”¨äº†æ–°çš„åˆ†éš”ç¬¦`:<span class="escape">`</span><br><span class="line"></span></span></span><br><span class="line">è¿˜æœ‰å…¶ä»–å‡ ä¸ªå¯ç”¨çš„è¾“å‡ºæ¨¡å¼ã€‚ä¸‹é¢çš„ç¤ºä¾‹æ˜¾ç¤ºåˆ—çš„è¾“å‡ºæ¨¡å¼ï¼š</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .mode column<br>sqlite&gt; .headers on<br>sqlite&gt; SELECT * FROM cars;<br>Id          Name        Price</p>
<hr>
<p>1           Audi        52642<br>2           Mercedes    57127<br>3           Skoda       9000<br>4           Volvo       29000<br>5           Bentley     350000<br>6           Citroen     21000<br>7           Hummer      41400<br>8           Volkswagen  21600<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .width 15 18<br>sqlite&gt; SELECT Name, Price FROM cars;<br>Name             Price</p>
<hr>
<p>Audi             52642<br>Mercedes         57127<br>Skoda            9000<br>Volvo            29000<br>Bentley          350000<br>Citroen          21000<br>Hummer           41400<br>Volkswagen       21600<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ”¹å˜åˆ—å®½ã€‚ç¬¬ä¸€åˆ—å°†15ä¸ªå­—ç¬¦å®½,ç¬¬äºŒåˆ—æ˜¯18ã€‚</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .show<br>echo: off<br>      eqp: off<br>  explain: off<br>  headers: on<br>     mode: column<br>nullvalue: â€œâ€<br>   output: stdout<br>separator: â€œ:â€<br>    stats: off<br>    width: 15 18<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.show</span> å‘½ä»¤åˆ—å‡ºå„ç§è®¾ç½®ã€‚è¿™äº›åŒ…æ‹¬è¾“å‡ºæ¨¡å¼ï¼Œåœ¨åˆ—è¡¨æ¨¡å¼ä¸‹ä½¿ç”¨çš„åˆ†éš”ç¬¦å’Œæ˜¯å¦æ˜¾ç¤ºå¤´éƒ¨ã€‚</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .schema Cars<br>CREATE TABLE Cars(Id INTEGER PRIMARY KEY, Name TEXT, Price INTEGER);<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.schema</span> å‘½ä»¤æ˜¾ç¤ºè¡¨çš„ç»“æ„ã€‚å®ƒè¿”å›åˆ›å»ºè¡¨çš„DDL SQLã€‚</span><br><span class="line"></span><br><span class="line"><span class="class">.prompt</span> å‘½ä»¤å¯ä»¥æ”¹å˜çš„sqlite3çš„æç¤ºã€‚</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .prompt â€œ&gt; â€œ â€œ. â€œ</p>
<blockquote>
<p>SELECT * FROM Cars<br>. LIMIT 2;<br>Id               Name                Price</p>
<hr>
<p>1                Audi                52642<br>2                Mercedes            57127<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æœ‰ä¸¤ä¸ªæç¤ºã€‚æœ€ä¸»è¦æ˜¯ç¬¬ä¸€ä¸ªæç¤ºï¼Œå¦ä¸€ä¸ªæ˜¯ç»§ç»­æç¤ºã€‚é»˜è®¤çš„ä¸»æç¤ºç¬¦æ˜¯<span class="string">'sqlite&gt;'</span> å’Œé»˜è®¤çš„ç»§ç»­æç¤º<span class="string">'...&gt;'</span>ã€‚</span><br><span class="line"></span><br><span class="line"><span class="preprocessor">##ä»shellæ‰§è¡ŒSQL</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>$ sqlite3 test.db â€œSELECT * FROM Cars;â€<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">##Dumping tables</span></span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å°†ä½¿ç”¨.<span class="keyword">dump</span>å‘½ä»¤æ¥è½¬å‚¨ã€‚</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .dump Cars<br>PRAGMA foreign_keys=OFF;<br>BEGIN TRANSACTION;<br>CREATE TABLE Cars(Id INTEGER PRIMARY KEY, Name TEXT, Price INTEGER);<br>INSERT INTO â€œCarsâ€ VALUES(1,â€™Audiâ€™,52642);<br>INSERT INTO â€œCarsâ€ VALUES(2,â€™Mercedesâ€™,57127);<br>INSERT INTO â€œCarsâ€ VALUES(3,â€™Skodaâ€™,9000);<br>INSERT INTO â€œCarsâ€ VALUES(4,â€™Volvoâ€™,29000);<br>INSERT INTO â€œCarsâ€ VALUES(5,â€™Bentleyâ€™,350000);<br>INSERT INTO â€œCarsâ€ VALUES(6,â€™Citroenâ€™,21000);<br>INSERT INTO â€œCarsâ€ VALUES(7,â€™Hummerâ€™,41400);<br>INSERT INTO â€œCarsâ€ VALUES(8,â€™Volkswagenâ€™,21600);<br>COMMIT;<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dump</span> å‘½ä»¤æ˜¾ç¤ºäº†æˆ‘ä»¬æ‰€å¿…éœ€çš„SQLåˆ›å»ºè¡¨çš„ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .output cars2.sql<br>sqlite&gt; .dump Cars<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">.outputå‘½ä»¤ä¼šå°†è¾“å‡ºé‡å®šå‘cars2.sqlæ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">##Reading SQL</span></span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªæ–‡ä»¶åè¯»å–SQLè¯­å¥ `.<span class="command">read</span>` å‘½ä»¤ã€‚</span><br></pre></td></tr></table></figure></p>
<p>sqlite&gt; .tables Cars<br>Cars<br>sqlite&gt; DROP TABLE Cars;<br>sqlite&gt; .tables Cars<br>sqlite&gt; .read cars.sql<br>sqlite&gt; .tables Cars<br>Cars<br>sqlite&gt; SELECT * FROM Cars WHERE Id=1;<br>Id          Name        Price     </p>
<hr>
<p>1           Audi        52642<br><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="stylus">#<span class="id">#The</span> <span class="class">.sqlite_history</span> file</span><br><span class="line"></span><br><span class="line">å‘½ä»¤å’Œè¯­å¥ä¸­å­˜æ¡£äº .sqlite_historyæ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä½äºä¸»ç›®å½•ã€‚</span></span><br></pre></td></tr></table></figure></p>
<p>$ tail -5 ~/.sqlite_history<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ä½¿ç”¨tailå‘½ä»¤,æˆ‘ä»¬æ˜¾ç¤ºæœ€åäº”é¡¹ã€‚</span><br><span class="line"></span><br><span class="line">#<span class="id">#Resource</span> file</span><br><span class="line"></span><br><span class="line">sqlite3 å·¥å…·æœ‰ä¸€ä¸ªèµ„æºæ–‡ä»¶ <span class="class">.sqliterc</span> ã€‚ å®ƒä½äºä¸»ç›®å½•ã€‚å¦‚æœæ²¡æœ‰è¿™äº›æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åˆ›å»ºå®ƒã€‚ è¿™äº›æ–‡ä»¶å¯ä»¥åŒ…å«å…ƒå‘½ä»¤ï¼Œæˆ–å¸¸è§„çš„SQLè¯­å¥ã€‚</span><br><span class="line"></span><br><span class="line">```	</span><br><span class="line">$ cat <span class="class">.sqliterc</span> </span><br><span class="line"><span class="class">.mode</span> column</span><br><span class="line"><span class="class">.header</span> on</span><br><span class="line"><span class="class">.nullvalue</span> NULL</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæ˜¯ä¸€ä¸ªç®€å•çš„èµ„æºæ–‡ä»¶çš„ä¾‹å­ï¼Œå®ƒæœ‰ä¸‰ä¸ªå…ƒå‘½ä»¤ã€‚æœ‰äº†èµ„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†æ¬¡æ‰§è¡Œå·²æœ‰çš„å…ƒå‘½ä»¤ã€‚å½“æˆ‘ä»¬å¼€å§‹ sqlite3 å·¥å…·ï¼Œä»–ä»¬å°†è‡ªåŠ¨æ‰§è¡Œã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/15/sqliteå‘½ä»¤è¡Œå·¥å…·/" data-id="cie2ful1y000oc2s6hn9uajkr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sqlite3å‘½ä»¤è¡Œå·¥å…·/">sqlite3å‘½ä»¤è¡Œå·¥å…·</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-XML&amp;JSON" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/XML&JSON/" class="article-date">
  <time datetime="2015-04-15T11:20:14.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/XML&JSON/">æ•°æ®è§£æXML</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="XML">XML</h1><h2 id="SAXè§£æ">SAXè§£æ</h2><ol>
<li><p>åˆ›å»ºXMLè§£æå¯¹è±¡</p>
 <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *fileURL = [[<span class="built_in">NSBundle</span> mainBundle] URLForResource:<span class="string">@"bookstore"</span> withExtension:<span class="string">@"xml"</span>];</span><br><span class="line"><span class="built_in">NSXMLParser</span> *xmlParser = [[<span class="built_in">NSXMLParser</span> alloc] initWithContentsOfURL:fileURL];</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>è®¾ç½®XMLè§£æå¯¹è±¡çš„ä»£ç†</li>
<li><p>å¼€å§‹è§£æ</p>
 <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">BOOL</span> flag = [xmlParser parse];</span><br><span class="line">   <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">       <span class="built_in">NSLog</span>(<span class="string">@"xmlParser parse error."</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<p>NSXMLParserå¯¹è±¡ä»£ç†æ–¹æ³•ï¼š</p>
<ul>
<li><p>(void)parserDidStartDocument:(NSXMLParser *)parser </p>
<blockquote>
<p>å½“å¼€å§‹è§£æXMLæ–‡æ¡£çš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚é€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•é‡Œï¼Œ<code>åˆ›å»ºå­˜å‚¨æ¨¡å‹å¯¹è±¡çš„æ•°ç»„</code></p>
</blockquote>
</li>
<li><p>(void)parser:(NSXMLParser <em>)parser didStartElement:(NSString </em>)elementName namespaceURI:(NSString <em>)namespaceURI qualifiedName:(NSString </em>)qName attributes:(NSDictionary *)attributeDict </p>
<blockquote>
<p>å½“å¼€å§‹è§£æï¼Œé‡åˆ°å…ƒç´ çš„å¼€å§‹æ ‡ç­¾çš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚é€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•é‡Œï¼Œ<code>åˆ›å»ºæ¨¡å‹å¯¹è±¡æˆ–è§£ææ ‡ç­¾ä¸­çš„å±æ€§ä¿å­˜åœ¨æ¨¡å‹å¯¹è±¡ä¸­</code></p>
</blockquote>
</li>
<li><p>(void)parser:(NSXMLParser <em>)parser foundCharacters:(NSString </em>)string</p>
<blockquote>
<p>å½“è§£æåˆ°xmlæ ‡ç­¾çš„æ–‡æœ¬å†…å®¹çš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•, é€šå¸¸åœ¨è¿™é‡Œå…ˆ<code>æš‚å­˜è§£æåˆ°çš„æ–‡æœ¬å†…å®¹</code></p>
</blockquote>
</li>
<li><p>(void)parser:(NSXMLParser <em>)parser didEndElement:(NSString </em>)elementName namespaceURI:(NSString <em>)namespaceURI qualifiedName:(NSString </em>)qName</p>
<blockquote>
<p>å½“è§£æxmlå†…å®¹é‡åˆ°ç»“æŸæ ‡ç­¾çš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚é€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•é‡Œï¼Œ<code>éœ€è¦å°†æ¨¡å‹å¯¹è±¡ä¿å­˜å…¥æ•°ç»„ä¸­æˆ–æŠŠæ ‡ç­¾å¯¹åº”çš„æ–‡æœ¬å†…å®¹è§£æå‡ºæ¥ï¼Œä¿å­˜åœ¨æ¨¡å‹å¯¹è±¡ä¸­ï¼ˆKVCï¼‰</code></p>
</blockquote>
</li>
<li><p>(void)parserDidEndDocument:(NSXMLParser *)parser</p>
<blockquote>
<p>å½“æ•´ä¸ªxmlæ–‡æ¡£å…¨éƒ¨è§£æç»“æŸçš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨</p>
</blockquote>
</li>
<li><p>(void)parser:(NSXMLParser <em>)parser parseErrorOccurred:(NSError </em>)parseError</p>
<blockquote>
<p>å½“é‡åˆ°è§£æé”™è¯¯æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨</p>
</blockquote>
</li>
</ul>
<h2 id="DOMè§£æ_(ä»¥GDataXMLNodeä¸ºä¾‹)">DOMè§£æ (ä»¥GDataXMLNodeä¸ºä¾‹)</h2><p>ä½¿ç”¨:</p>
<p>æ·»åŠ å¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼š<br><code>Build Settings-&gt;Header Search Paths-&gt;&quot;/usr/include/libxml2&quot;</code></p>
<p>ç”¨éARCçš„æ–¹å¼ç¼–è¯‘GDataXMLNode.mæ–‡ä»¶ï¼š<br><code>-fno-objc-arc</code></p>
<p>é“¾æ¥libxml2.dylibè¯¥åŠ¨æ€åº“ï¼š<br><code>Build Phases-&gt;Link Binary With Libraries-&gt;&quot;libxml2.dylib&quot;</code></p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">*</span></span><br><span class="line">    <span class="keyword">*</span> <span class="variable">&lt;èŠ‚ç‚¹&gt;</span> (GDataXMLNode)</span><br><span class="line">    <span class="keyword">*</span> æ ¹æ® DOMï¼ŒXML æ–‡æ¡£ä¸­çš„æ¯ä¸ªæˆåˆ†éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span><br><span class="line">    <span class="keyword">*</span> DOM æ˜¯è¿™æ ·è§„å®šçš„ï¼š</span><br><span class="line">    <span class="keyword">*</span> æ•´ä¸ªæ–‡æ¡£æ˜¯ä¸€ä¸ªæ–‡æ¡£èŠ‚ç‚¹</span><br><span class="line">    <span class="keyword">*</span> æ¯ä¸ª XML æ ‡ç­¾æ˜¯ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹</span><br><span class="line">    <span class="keyword">*</span> åŒ…å«åœ¨ XML å…ƒç´ ä¸­çš„æ–‡æœ¬æ˜¯æ–‡æœ¬èŠ‚ç‚¹</span><br><span class="line">    <span class="keyword">*</span> æ¯ä¸€ä¸ª XML å±æ€§æ˜¯ä¸€ä¸ªå±æ€§èŠ‚ç‚¹</span><br><span class="line">    <span class="keyword">*</span> æ³¨é‡Šå±äºæ³¨é‡ŠèŠ‚ç‚¹</span><br><span class="line">    <span class="keyword">*</span>/</span><br></pre></td></tr></table></figure>
<ol>
<li><p>æ ¹æ®XMLæ–‡ä»¶åˆ›å»ºNSDataå¯¹è±¡</p>
 <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *fileURL = [[<span class="built_in">NSBundle</span> mainBundle] URLForResource:<span class="string">@"bookstore"</span> withExtension:<span class="string">@"xml"</span>];</span><br><span class="line">   <span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithContentsOfURL:fileURL];</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>æ ¹æ®NSDataå¯¹è±¡åˆ›å»ºGDataXMLDocumentå¯¹è±¡ï¼ˆå³DOMæ¨¡å‹å¯¹è±¡ï¼‰ï¼Œè¯¥å¯¹è±¡åœ¨å†…å­˜ä¸­æ˜¯ä»¥æ ‘å½¢ç»“æ„å­˜å‚¨çš„</p>
 <figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GDataXMLDocument *doc = [[GDataXMLDocument alloc] <span class="string">initWithData:</span>data <span class="string">options:</span><span class="number">0</span> <span class="string">error:</span>nil];</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡DOMæ¨¡å‹å¯¹è±¡ï¼Œå–å‡ºXMLæ–‡ä»¶çš„æ ¹å…ƒç´ </p>
 <figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">GDataXMLElement *rootElement </span>=<span class="string"> [doc rootElement];</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”±äºæ˜¯æ ‘å½¢ç»“æ„ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥æ ¹æ®å­å…ƒç´ çš„åå­—ä½¿ç”¨æ ¹å…ƒç´ è·å–åˆ°æ‰€æœ‰å­å…ƒç´ ï¼Œå¹¶ç±»æ¨è·å¾—å­å…ƒç´ çš„å­å…ƒç´ </p>
 <figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="atom">for</span> (<span class="name">GDataXMLElement</span> *<span class="atom">element</span> <span class="atom">in</span> <span class="atom">elements</span>) &#123;</span><br><span class="line">       // åˆ›å»ºå›¾ä¹¦å¯¹è±¡</span><br><span class="line">       <span class="name">YMBook</span> *<span class="atom">book</span> = [[<span class="name">YMBook</span> <span class="atom">alloc</span>] <span class="atom">init</span>];</span><br><span class="line">       </span><br><span class="line">       // æ ¹æ®å±æ€§åå­—ï¼Œè§£æ<span class="atom">book</span>å…ƒç´ çš„å±æ€§å€¼</span><br><span class="line">       <span class="atom">book</span>.<span class="atom">category</span> = [[<span class="atom">element</span> <span class="atom">attributeForName</span>:<span class="atom">kCategory</span>] <span class="atom">stringValue</span>];</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">       // è§£æ<span class="atom">book</span>çš„å­å…ƒç´ åŒ…å«çš„æ–‡æœ¬å†…å®¹åŠå…¶å­å…ƒç´ çš„å±æ€§</span><br><span class="line">       <span class="name">GDataXMLElement</span> *<span class="atom">titleElement</span> = [<span class="atom">element</span> <span class="atom">elementsForName</span>:<span class="atom">kTitle</span>][<span class="number">0</span>];</span><br><span class="line">       <span class="atom">book</span>.<span class="atom">title</span> = [<span class="atom">titleElement</span> <span class="atom">stringValue</span>];</span><br><span class="line">       <span class="atom">book</span>.<span class="atom">lang</span> = [[<span class="atom">titleElement</span> <span class="atom">attributeForName</span>:<span class="atom">kLanguage</span>] <span class="atom">stringValue</span>];</span><br><span class="line">       </span><br><span class="line">       <span class="name">GDataXMLElement</span> *<span class="atom">authorElement</span> = [<span class="atom">element</span> <span class="atom">elementsForName</span>:<span class="atom">kAuthor</span>][<span class="number">0</span>];</span><br><span class="line">       <span class="atom">book</span>.<span class="atom">author</span> = [<span class="atom">authorElement</span> <span class="atom">stringValue</span>];</span><br><span class="line">       </span><br><span class="line">       <span class="name">GDataXMLElement</span> *<span class="atom">yearElement</span> = [<span class="atom">element</span> <span class="atom">elementsForName</span>:<span class="atom">kYear</span>][<span class="number">0</span>];</span><br><span class="line">       <span class="atom">book</span>.<span class="atom">year</span> = [<span class="atom">yearElement</span> <span class="atom">stringValue</span>];</span><br><span class="line">       </span><br><span class="line">       <span class="name">GDataXMLElement</span> *<span class="atom">priceElement</span> = [<span class="atom">element</span> <span class="atom">elementsForName</span>:<span class="atom">kPrice</span>][<span class="number">0</span>];</span><br><span class="line">       <span class="atom">book</span>.<span class="atom">price</span> = [<span class="atom">priceElement</span> <span class="atom">stringValue</span>];</span><br><span class="line">       </span><br><span class="line">       [<span class="name">_bookStore</span> <span class="atom">addObject</span>:<span class="atom">book</span>];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="JSON">JSON</h1><p>ä»ç»“æ„ä¸Šçœ‹ï¼Œæ‰€æœ‰çš„æ•°æ®ï¼ˆdataï¼‰æœ€ç»ˆéƒ½å¯ä»¥åˆ†è§£æˆä¸‰ç§ç±»å‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§ç±»å‹æ˜¯æ ‡é‡ï¼ˆscalarï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²ï¼ˆstringï¼‰æˆ–æ•°å­—ï¼ˆnumbersï¼‰ï¼Œæ¯”å¦‚â€åŒ—äº¬â€è¿™ä¸ªå•ç‹¬çš„è¯</li>
<li>ç¬¬äºŒç§ç±»å‹æ˜¯åºåˆ—ï¼ˆsequenceï¼‰ï¼Œä¹Ÿå°±æ˜¯è‹¥å¹²ä¸ªç›¸å…³çš„æ•°æ®æŒ‰ç…§ä¸€å®šé¡ºåºå¹¶åˆ—åœ¨ä¸€èµ·ï¼Œåˆå«åšæ•°ç»„ï¼ˆarrayï¼‰æˆ–åˆ—è¡¨ï¼ˆListï¼‰ï¼Œæ¯”å¦‚â€åŒ—äº¬ï¼Œä¸Šæµ·â€</li>
<li>ç¬¬ä¸‰ç§ç±»å‹æ˜¯æ˜ å°„ï¼ˆmappingï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå/å€¼å¯¹ï¼ˆName/valueï¼‰ï¼Œå³æ•°æ®æœ‰ä¸€ä¸ªåç§°ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸ä¹‹ç›¸å¯¹åº”çš„å€¼ï¼Œè¿™åˆç§°ä½œæ•£åˆ—ï¼ˆhashï¼‰æˆ–å­—å…¸ï¼ˆdictionaryï¼‰ï¼Œæ¯”å¦‚â€é¦–éƒ½ï¼šåŒ—äº¬â€</li>
</ul>
<p>Douglas Crockfordå‘æ˜äº†JSONï¼ŒJsonçš„è§„å®šéå¸¸ç®€å•:</p>
<ol>
<li>å¹¶åˆ—çš„æ•°æ®ä¹‹é—´ç”¨é€—å·ï¼ˆâ€, â€œï¼‰åˆ†éš”</li>
<li>æ˜ å°„ç”¨å†’å·ï¼ˆâ€: â€œï¼‰è¡¨ç¤º</li>
<li>å¹¶åˆ—æ•°æ®çš„é›†åˆï¼ˆæ•°ç»„ï¼‰ç”¨æ–¹æ‹¬å·(â€œ[]â€)è¡¨ç¤º</li>
<li>æ˜ å°„çš„é›†åˆï¼ˆå¯¹è±¡ï¼‰ç”¨å¤§æ‹¬å·ï¼ˆâ€{}â€ï¼‰è¡¨ç¤º</li>
</ol>
<p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™å¥è¯ï¼š</p>
<blockquote>
<p>â€œåŒ—äº¬å¸‚çš„é¢ç§¯ä¸º16800å¹³æ–¹å…¬é‡Œï¼Œå¸¸ä½äººå£1600ä¸‡äººã€‚ä¸Šæµ·å¸‚çš„é¢ç§¯ä¸º6400å¹³æ–¹å…¬é‡Œï¼Œå¸¸ä½äººå£1800ä¸‡ã€‚â€</p>
</blockquote>
<p>å†™æˆJSONæ ¼å¼å°±æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">ã€€ã€€&#123;"<span class="attribute">åŸå¸‚</span>":<span class="value"><span class="string">"åŒ—äº¬"</span></span>,"<span class="attribute">é¢ç§¯</span>":<span class="value"><span class="number">16800</span></span>,"<span class="attribute">äººå£</span>":<span class="value"><span class="number">1600</span></span>&#125;,</span><br><span class="line">ã€€ã€€&#123;"<span class="attribute">åŸå¸‚</span>":<span class="value"><span class="string">"ä¸Šæµ·"</span></span>,"<span class="attribute">é¢ç§¯</span>":<span class="value"><span class="number">6400</span></span>,"<span class="attribute">äººå£</span>":<span class="value"><span class="number">1800</span></span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>å¦‚æœäº‹å…ˆçŸ¥é“æ•°æ®çš„ç»“æ„ï¼Œä¸Šé¢çš„å†™æ³•è¿˜å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">ã€€ã€€[<span class="string">"åŒ—äº¬"</span>,<span class="number">16800</span>,<span class="number">1600</span>],</span><br><span class="line">ã€€ã€€[<span class="string">"ä¸Šæµ·"</span>,<span class="number">6400</span>,<span class="number">1800</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p><em><code>rfc-4627</code></em></p>
<p><em><code>www.json.org/json-zh.htm</code></em></p>
<p><em><code>www.sojson.com</code></em></p>
<h2 id="NSJSONSerialization">NSJSONSerialization</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">id</span>)JSONObjectWithData:(<span class="built_in">NSData</span> *)data</span><br><span class="line">                options:(<span class="built_in">NSJSONReadingOptions</span>)opt</span><br><span class="line">                  error:(<span class="built_in">NSError</span> **)error</span><br><span class="line">                  </span><br><span class="line">+ (<span class="built_in">NSData</span> *)dataWithJSONObject:(<span class="keyword">id</span>)obj</span><br><span class="line">                      options:(<span class="built_in">NSJSONWritingOptions</span>)opt</span><br><span class="line">                        error:(<span class="built_in">NSError</span> **)error</span><br></pre></td></tr></table></figure>
<h2 id="JSONKit">JSONKit</h2><p>ä½¿ç”¨ï¼š<br><code>-fno-objc-arc</code></p>
<p>åºåˆ—åŒ–: <code>NSArray</code> <code>NSDictionary</code> <code>NSString</code></p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â€“ JSONData</span><br><span class="line">â€“ <span class="string">JSONDataWithOptions:</span><span class="string">includeQuotes:</span><span class="string">error:</span></span><br><span class="line">- <span class="string">JSONDataWithOptions:</span><span class="string">serializeUnsupportedClassesUsingDelegate:</span><span class="string">selector:</span><span class="string">error:</span></span><br><span class="line">- <span class="string">JSONDataWithOptions:</span><span class="string">serializeUnsupportedClassesUsingBlock:</span><span class="string">error:</span></span><br><span class="line"></span><br><span class="line">â€“ JSONString</span><br><span class="line">â€“ <span class="string">JSONStringWithOptions:</span><span class="string">includeQuotes:</span><span class="string">error:</span></span><br><span class="line">- <span class="string">JSONStringWithOptions:</span><span class="string">serializeUnsupportedClassesUsingDelegate:</span><span class="string">selector:</span><span class="string">error:</span></span><br><span class="line">â€“ <span class="string">JSONStringWithOptions:</span><span class="string">serializeUnsupportedClassesUsingBlock:</span><span class="string">error:</span></span><br></pre></td></tr></table></figure>
<p>ååºåˆ—åŒ–: <code>NSData</code> <code>NSString</code></p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">â€“ objectFromJSONData</span><br><span class="line">â€“ <span class="string">objectFromJSONDataWithParseOptions:</span></span><br><span class="line">â€“ <span class="string">objectFromJSONDataWithParseOptions:</span><span class="string">error:</span></span><br><span class="line">â€“ mutableObjectFromJSONData</span><br><span class="line">â€“ <span class="string">mutableObjectFromJSONDataWithParseOptions:</span></span><br><span class="line">â€“ <span class="string">mutableObjectFromJSONDataWithParseOptions:</span><span class="string">error:</span></span><br><span class="line"></span><br><span class="line">â€“ objectFromJSONString</span><br><span class="line">â€“ <span class="string">objectFromJSONStringWithParseOptions:</span></span><br><span class="line">â€“ <span class="string">objectFromJSONStringWithParseOptions:</span><span class="string">error:</span></span><br><span class="line">â€“ mutableObjectFromJSONString</span><br><span class="line">â€“ <span class="string">mutableObjectFromJSONStringWithParseOptions:</span></span><br><span class="line">â€“ <span class="string">mutableObjectFromJSONStringWithParseOptions:</span><span class="string">error:</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/15/XML&JSON/" data-id="cie2ful3v0028c2s6ywcvllg5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/æ•°æ®è§£æXML/">æ•°æ®è§£æXML</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-fmdb" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/fmdb/" class="article-date">
  <time datetime="2015-04-15T11:20:14.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/fmdb/">FMDB</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="FMDB">FMDB</h1><blockquote>
<p>å¦‚æœç›´æ¥ä½¿ç”¨sqlite3æ“ä½œæ•°æ®åº“ï¼ˆc/c++ APIï¼‰ï¼Œæ“ä½œéº»çƒ¦ï¼Œä½¿ç”¨éš¾åº¦å¤§ï¼Œå·¥ä½œæ•ˆç‡ä½ã€‚æ‰€ä»¥ï¼Œåœ¨Objective-cä¸­ä½¿ç”¨æ¯”è¾ƒéº»çƒ¦ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„åŸºæœ¬æŸ¥è¯¢ï¼š</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sqlite3 *oldDatabase = <span class="literal">nil</span>;</span><br><span class="line"><span class="built_in">NSString</span> *filePath = <span class="string">@"/File/Path/For/Sqlite/Database"</span>;</span><br><span class="line">sqlite3_open([filePath UTF8String], &amp;oldDatabase);</span><br><span class="line">sqlite3_stmt* statement = <span class="literal">nil</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* sqlQuery = <span class="string">"SELECT NAME FROM TABLENAME"</span>;</span><br><span class="line"><span class="keyword">if</span> (sqlite3_prepare_v2(oldDatabase, sqlQuery, -<span class="number">1</span>, &amp;statement, <span class="literal">NULL</span>) == SQLITE_OK)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">while</span> (sqlite3_step(statement) == SQLITE_ROW) <span class="comment">// get row one by one</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span>* zdatabaseName = sqlite3_column_text(statement, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%s %s"</span>, __FUNCTION__, zdatabaseName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">sqlite3_finalize(statement);</span><br><span class="line">sqlite3_close(oldDatabase);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è€ŒFMDBæ•°æ®åº“æ“ä½œç±»å¯¹sqlite3çš„æ“ä½œè¿›è¡Œäº†ä¾¿åˆ©åœ°å°è£…å¹¶ä¿è¯äº†å¤šçº¿ç¨‹ä¸‹å®‰å…¨åœ°æ“ä½œæ•°æ®åº“</p>
</blockquote>
<p>FMDBæœ‰ä¸‰ä¸ªä¸»è¦çš„ç±»</p>
<p>1.FMDatabase â€“ è¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„SQLiteæ•°æ®åº“ï¼Œç”¨æ¥æ‰§è¡ŒSQLiteçš„å‘½ä»¤</p>
<p>2.FMResultSet â€“ è¡¨ç¤ºFMDatabaseæ‰§è¡ŒæŸ¥è¯¢åçš„ç»“æœé›†</p>
<p>3.FMDatabaseQueue â€“ å¦‚æœä½ æƒ³åœ¨å¤šçº¿ç¨‹ä¸­æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢æˆ–æ›´æ–°ï¼Œä½ åº”è¯¥ä½¿ç”¨è¯¥ç±»ï¼Œè¿™æ˜¯çº¿ç¨‹å®‰å…¨çš„</p>
<h1 id="FMDatabase">FMDatabase</h1><p><strong>æ•°æ®åº“åˆ›å»º</strong></p>
<p>åˆ›å»ºFMDatabaseå¯¹è±¡æ—¶å‚æ•°ä¸ºSQLiteæ•°æ®åº“æ–‡ä»¶è·¯å¾„ã€‚è¯¥æ–‡ä»¶è·¯å¾„æ— éœ€çœŸå®å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *paths = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line"><span class="built_in">NSString</span> *docDir = [paths objectAtIndex:<span class="number">0</span>]; </span><br><span class="line"><span class="built_in">NSString</span> *dataBasePath = [docDir stringByAppendingPathExtension:<span class="string">@"tataBase.db"</span>];</span><br><span class="line">FMDatabase *db = [FMDatabase databaseWithPath:dataBasePath];</span><br></pre></td></tr></table></figure>
<p><strong>æ‰“å¼€æ•°æ®åº“</strong></p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (![<span class="keyword">db</span> <span class="keyword">open</span>]) &#123;</span><br><span class="line">        NSLog(@<span class="string">"Could not open db."</span>);</span><br><span class="line">        <span class="keyword">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ‰§è¡Œæ›´æ–°</strong></p>
<ul>
<li>executeUpdate</li>
</ul>
<p>ä¸€åˆ‡ä¸æ˜¯SELECTå‘½ä»¤çš„å‘½ä»¤éƒ½è§†ä¸ºæ›´æ–°ã€‚è¿™åŒ…æ‹¬  CREATE, UPDATE, INSERT,ALTERç­‰ã€‚ç®€å•æ¥è¯´ï¼Œåªè¦ä¸æ˜¯ä»¥SELECTå¼€å¤´çš„å‘½ä»¤éƒ½æ˜¯UPDATEå‘½ä»¤</p>
<p>æ‰§è¡Œæ›´æ–°è¿”å›ä¸€ä¸ªBOOLå€¼ã€‚YESè¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼ŒNOè¡¨ç¤ºæœ‰é”™è¯¯ã€‚ä½ å¯ä»¥è°ƒç”¨ -lastErrorMessage å’Œ -lastErrorCodeæ–¹æ³•æ¥å¾—åˆ°æ›´å¤šä¿¡æ¯ã€‚ä»¥æ’å…¥æ“ä½œä¸¾ä¾‹ï¼š</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="collection">[db executeUpdate:@<span class="string">"INSERT INTO PersonList(Name, Age, Sex, Phone, Address, Photo) VALUES (?,?,?,?,?,?)"</span>,@<span class="string">"Jone"</span>, <span class="collection">[NSNumber numberWithInt:20]</span>, <span class="collection">[NSNumber numberWithInt:0]</span>, @â€œ<span class="number">091234567</span>â€, @â€œTaiwan, R.O.Câ€, <span class="collection">[NSData dataWithContentsOfFile: filepath]</span>]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ‰§è¡ŒæŸ¥è¯¢</strong></p>
<ul>
<li>executeQuery</li>
</ul>
<p>SELECTå‘½ä»¤å°±æ˜¯æŸ¥è¯¢æ“ä½œ</p>
<p>æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¦‚æœæˆåŠŸè¿”å›<strong>FMResultSet</strong>å¯¹è±¡ï¼Œé”™è¯¯è¿”å›nil</p>
<p>ä¸æ‰§è¡Œæ›´æ–°ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -lastErrorCodeå’Œ-lastErrorMessageè·çŸ¥é”™è¯¯ä¿¡æ¯</p>
<p>è·å¾—FMResultSetå¯¹è±¡rsåï¼Œå³ä½¿åªæœ‰ä¸€æ¡è®°å½•ï¼Œä¸€æ ·è¦ä½¿ç”¨[rs next];</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FMResultSet *rs = [db <span class="string">executeQuery:</span>@<span class="string">"SELECT Name, Age, FROM PersonList"</span>];</span><br><span class="line"><span class="keyword">while</span> ([rs next]) &#123;</span><br><span class="line">	NSString *name = [rs <span class="string">stringForColumn:</span>@<span class="string">"Name"</span>];</span><br><span class="line">	<span class="typename">int</span> age = [rs <span class="string">intForColumn:</span>@<span class="string">"Age"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>FMResultSetæ ¹æ®ç±»å‹æå–æ•°æ®çš„æ–¹æ³•:</p>
<pre><code>-<span class="ruby"> <span class="symbol">intForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">longForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">nlongLongIntForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">boolForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">doubleForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">stringForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">dateForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">dataForColumn:</span>
</span>-<span class="ruby"> <span class="symbol">dataNoCopyForColumn:</span>
</span>-<span class="ruby"> <span class="constant">UTF8StringForColumnName</span><span class="symbol">:</span>
</span>-<span class="ruby"> <span class="symbol">objectForColumnName:</span></span>
</code></pre><p><code>ä»¥ä¸Šè¿™äº›æ–¹æ³•ï¼Œéƒ½æœ‰ä¸ª{type}ForColumnIndex:ç‰ˆæœ¬ï¼Œæ ¹æ®columçš„ä½ç½®æ¥æå–æ•°æ®</code>    </p>
<p>æœ‰äº›æ—¶å€™ï¼Œåªæ˜¯éœ€è¦queryæŸä¸€ä¸ªrowé‡Œç‰¹å®šçš„ä¸€ä¸ªæ•°å€¼ï¼ˆæ¯”å¦‚åªæ˜¯è¦æ‰¾Johnçš„å¹´é¾„ï¼‰ï¼ŒFMDBæä¾›äº†å‡ ä¸ªæ¯”è¾ƒç®€ä¾¿çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•å®šä¹‰åœ¨FMDatabaseAdditions.hï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œè®°å¾—å…ˆimportè¿›æ¥</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//æ‰¾åœ°å€</span><br><span class="line">NSString *address = [db stringForQuery:@"<span class="operator"><span class="keyword">SELECT</span> Address <span class="keyword">FROM</span> PersonList <span class="keyword">WHERE</span> Name = ?<span class="string">",@"</span>Johnâ€];</span></span><br><span class="line">//æ‰¾å¹´é½¡</span><br><span class="line">int age = [db intForQuery:@"<span class="operator"><span class="keyword">SELECT</span> Age <span class="keyword">FROM</span> PersonList <span class="keyword">WHERE</span> Name = ?<span class="string">",@"</span>Johnâ€];</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®Œæ•°æ®åº“ï¼Œ[FMDatabase close]ï¼Œå…³é—­æ•°æ®åº“è¿æ¥æ¥é‡Šæ”¾SQLiteä½¿ç”¨çš„èµ„æº</p>
<p><strong>æ‰¹é‡æ“ä½œ</strong></p>
<p>ä½¿ç”¨FMDatabase çš„executeStatements:æˆ–è€…executeStatements:withResultBlock:ï¼ˆæ˜¯å¦éœ€è¦è¿”å›ç»“æœï¼‰</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NSString *sql = @"<span class="operator"><span class="keyword">create</span> <span class="keyword">table</span> bulktest1 (id <span class="built_in">integer</span> <span class="keyword">primary</span> <span class="keyword">key</span> autoincrement, x <span class="built_in">text</span>);</span>"</span><br><span class="line">                 "<span class="operator"><span class="keyword">create</span> <span class="keyword">table</span> bulktest2 (id <span class="built_in">integer</span> <span class="keyword">primary</span> <span class="keyword">key</span> autoincrement, y <span class="built_in">text</span>);</span>"</span><br><span class="line">                 "<span class="operator"><span class="keyword">create</span> <span class="keyword">table</span> bulktest3 (id <span class="built_in">integer</span> <span class="keyword">primary</span> <span class="keyword">key</span> autoincrement, z <span class="built_in">text</span>);</span>"</span><br><span class="line">                 "<span class="operator"><span class="keyword">insert</span> <span class="keyword">into</span> bulktest1 (x) <span class="keyword">values</span> (<span class="string">'XXX'</span>);</span>"</span><br><span class="line">                 "<span class="operator"><span class="keyword">insert</span> <span class="keyword">into</span> bulktest2 (y) <span class="keyword">values</span> (<span class="string">'YYY'</span>);</span>"</span><br><span class="line">                 "<span class="operator"><span class="keyword">insert</span> <span class="keyword">into</span> bulktest3 (z) <span class="keyword">values</span> (<span class="string">'ZZZ'</span>);</span>";</span><br><span class="line"></span><br><span class="line">success = [db executeStatements:sql];</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sql = @"<span class="operator"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">as</span> <span class="keyword">count</span> <span class="keyword">from</span> bulktest1;</span>"</span><br><span class="line">       "<span class="operator"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">as</span> <span class="keyword">count</span> <span class="keyword">from</span> bulktest2;</span>"</span><br><span class="line">       "<span class="operator"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">as</span> <span class="keyword">count</span> <span class="keyword">from</span> bulktest3;</span>";</span><br><span class="line"></span><br><span class="line">success = [self.db executeStatements:sql withResultBlock:^int(NSDictionary *dictionary) &#123;</span><br><span class="line">    NSInteger count = [dictionary[@"count"] integerValue];</span><br><span class="line">    XCTAssertEqual(count, 1, @"expected one record for dictionary %@", dictionary);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p><strong>ç»‘å®šå‚æ•°</strong></p>
<p>INSERT INTO myTable VALUES (?, ?, ?)</p>
<p>é—®å·åªæ˜¯å ä½ï¼Œæ‰§è¡Œæ“ä½œå¯ä»¥ä½¿ç”¨NSArray, NSDictionary, or a va_listæ¥åŒ¹é…å‚æ•°</p>
<p>ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨å‘½åå‚æ•°è¯­æ³•ï¼šINSERT INTO myTable VALUES (:id, :name, :value) </p>
<p>å‚æ•°åå¿…é¡»ä»¥å†’åå¼€å¤´ã€‚SQLiteæœ¬èº«æ”¯æŒå…¶ä»–å­—ç¬¦ï¼ˆ$,@ï¼‰ï¼ŒDictionary keyçš„å†…éƒ¨å®ç°æ˜¯å†’å·å¼€å¤´ã€‚æ³¨æ„ä½ çš„NSDictionary keyä¸è¦åŒ…å«å†’å·</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *argsDict = @&#123;@<span class="string">"name"</span>:@<span class="string">"Jason"</span>&#125;;</span><br><span class="line">    [db <span class="string">executeUpdate:</span>@<span class="string">"INSERT INTO myTable VALUES (:name)"</span> <span class="string">withParameterDictionary:</span>argsDict];</span><br></pre></td></tr></table></figure>
<p><strong>FMDatabaseQueue åŠçº¿ç¨‹å®‰å…¨</strong></p>
<p><code>ä¸èƒ½ä½¿ç”¨åŒä¸€ä¸ªFMDatabaseåœ¨ä¸åŒçº¿ç¨‹ä¸­æ“ä½œï¼Œå¤šçº¿ç¨‹çš„æ“ä½œæ˜¯é€šè¿‡FMDatabaseQueueå®ç°</code></p>
<p>é¦–å…ˆåˆ›å»ºé˜Ÿåˆ—ï¼Œç„¶åæŠŠå•ä»»åŠ¡åŒ…è£…åˆ°äº‹åŠ¡é‡Œï¼Œä¸²è¡Œæ‰§è¡Œ</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FMDatabaseQueue *queue = [FMDatabaseQueue <span class="string">databaseQueueWithPath:</span>aPath]; </span><br><span class="line">[queue <span class="string">inDatabase:</span>^(FMDatabase *db) &#123;    </span><br><span class="line">          [db <span class="string">executeUpdate:</span>@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, [NSNumber <span class="string">numberWithInt:</span><span class="number">1</span>]];    </span><br><span class="line">          [db <span class="string">executeUpdate:</span>@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, [NSNumber <span class="string">numberWithInt:</span><span class="number">2</span>]];    </span><br><span class="line">          [db <span class="string">executeUpdate:</span>@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, [NSNumber <span class="string">numberWithInt:</span><span class="number">3</span>]];    </span><br><span class="line">          FMResultSet *rs = [db <span class="string">executeQuery:</span>@<span class="string">"select * from foo"</span>];    </span><br><span class="line">         <span class="keyword">while</span>([rs next]) &#123;   </span><br><span class="line">            â€¦    </span><br><span class="line">         &#125;    </span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>äº‹åŠ¡çš„å›æ»šï¼šï¼ˆå½“å‰çš„é˜Ÿåˆ—çš„æ“ä½œçš„å–æ¶ˆï¼‰</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="collection">[queue inTransaction:^<span class="list">(<span class="keyword">FMDatabase</span> *db, BOOL *rollback)</span> <span class="collection">&#123;    </span><br><span class="line">            <span class="collection">[db executeUpdate:@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, <span class="collection">[NSNumber numberWithInt:1]</span>]</span><span class="comment">;    </span></span><br><span class="line">            <span class="collection">[db executeUpdate:@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, <span class="collection">[NSNumber numberWithInt:2]</span>]</span><span class="comment">;    </span></span><br><span class="line">            <span class="collection">[db executeUpdate:@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, <span class="collection">[NSNumber numberWithInt:3]</span>]</span><span class="comment">;    </span></span><br><span class="line">            if <span class="list">(<span class="keyword">whoopsSomethingWrongHappened</span>)</span> <span class="collection">&#123;    </span><br><span class="line">                    *rollback = YES; </span><br><span class="line">                    return;    </span><br><span class="line">            &#125;</span>   </span><br><span class="line">            // etcâ€¦    </span><br><span class="line">            <span class="collection">[db executeUpdate:@<span class="string">"INSERT INTO myTable VALUES (?)"</span>, <span class="collection">[NSNumber numberWithInt:4]</span>]</span><span class="comment">;    </span></span><br><span class="line">    &#125;</span>]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p><em>FMDatabaseQueueä¼šåœ¨åŒä¸€ä¸ªé˜Ÿåˆ—é‡Œ<code>åŒæ­¥</code>æ‰§è¡Œä»»åŠ¡ï¼Œ GCDä¹Ÿä¼šæŒ‰å®ƒæ¥æ”¶çš„å—çš„é¡ºåºæ¥æ‰§è¡Œ</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/15/fmdb/" data-id="cie2ful2o001hc2s63hf44bje" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FMDB/">FMDB</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-Sqlite" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/Sqlite/" class="article-date">
  <time datetime="2015-04-15T11:20:14.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/Sqlite/">SQLite</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>SQLiteæ˜¯ä¸ªè½»é‡çº§çš„åµŒå…¥å¼å…³ç³»æ•°æ®åº“ã€‚å®ƒä¸ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹è¿è¡Œï¼Œè€Œæ˜¯é€šè¿‡åŠ¨æ€æˆ–è€…é™æ€åº“çš„æ–¹å¼é“¾æ¥åˆ°åº”ç”¨ç¨‹åºä¸­ã€‚å®ƒç”Ÿæˆçš„æ•°æ®åº“æ–‡ä»¶æ˜¯ä¸€ä¸ªæ™®é€šçš„ç£ç›˜æ–‡ä»¶ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ç›®å½•ä¸‹ã€‚SQLiteæœ¬èº«æ˜¯Cè¯­è¨€å¼€å‘çš„ï¼Œå¼€æ”¾æºç ï¼Œå¹¶ä¸”è·¨å¹³å°æ”¯æŒï¼Œå¹¶ä¸”è¢«å¤§éƒ¨åˆ†é©»ç•™ç¼–ç¨‹è¯­è¨€æ”¯æŒã€‚è¯¦ç»†å†…å®¹-&gt; <a href="http://sqlite.org" target="_blank" rel="external">sqlite.org</a></p>
<h2 id="SQLiteæ•°æ®åº“ä¹‹SQLè¯­è¨€">SQLiteæ•°æ®åº“ä¹‹SQLè¯­è¨€</h2><h3 id="æ•°æ®å®šä¹‰è¯­è¨€(DDL)">æ•°æ®å®šä¹‰è¯­è¨€(DDL)</h3><ul>
<li>CREATE</li>
<li>ALTER TABLE</li>
<li>DROP</li>
</ul>
<h3 id="æ•°æ®æ“ä½œè¯­è¨€(DML)">æ•°æ®æ“ä½œè¯­è¨€(DML)</h3><ul>
<li>INSERT</li>
<li>UPDATE</li>
<li>DELETE</li>
</ul>
<h3 id="æ•°æ®æŸ¥è¯¢è¯­è¨€(DQL)">æ•°æ®æŸ¥è¯¢è¯­è¨€(DQL)</h3><ul>
<li>SELECT</li>
</ul>
<h2 id="SQLiteä¸­çš„æ•°æ®ç±»å‹">SQLiteä¸­çš„æ•°æ®ç±»å‹</h2><ul>
<li>NULL ç©ºå€¼</li>
<li>INTEGER æœ‰ç¬¦å·æ•´æ•°</li>
<li>REAL æµ®ç‚¹æ•°</li>
<li>TEXT æ–‡æœ¬å­—ç¬¦ä¸²</li>
<li>BLOB äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚å›¾ç‰‡ã€å£°éŸ³ç­‰</li>
</ul>
<h2 id="SQLiteå‘½ä»¤è¡Œå·¥å…·å®‰è£…">SQLiteå‘½ä»¤è¡Œå·¥å…·å®‰è£…</h2><ul>
<li>Windowsç‰ˆæœ¬ï¼š<a href="http://www.sqlite.org/sqlite-shell-win32-x86-3070701.zip" target="_blank" rel="external">ä¸‹è½½</a></li>
<li>Unix/Linuxï¼šç»ˆç«¯ä¸­è‡ªå¸¦sqliteï¼Œæ— éœ€ä¸‹è½½å®‰è£…</li>
</ul>
<h2 id="SQLiteå‘½ä»¤è¡Œå·¥å…·">SQLiteå‘½ä»¤è¡Œå·¥å…·</h2><h3 id="æ•°æ®åº“å’Œè¡¨çš„å…ƒå‘½ä»¤">æ•°æ®åº“å’Œè¡¨çš„å…ƒå‘½ä»¤</h3><ol>
<li><p>åˆ›å»ºæ•°æ®åº“ <code>sqlite3 test.db</code></p>
</li>
<li><p>æ‰“å¼€å·²ç»å­˜åœ¨çš„æ•°æ®åº“ <code>sqlite3 test.db</code></p>
</li>
<li><p>å¯¼å…¥æ•°æ® <code>.read test.sql</code></p>
</li>
<li><p>åˆ—å‡ºæ‰€æœ‰æ•°æ®è¡¨ï¼š<code>.tables</code></p>
</li>
<li><p>æ˜¾ç¤ºæ•°æ®åº“ç»“æ„ï¼š<code>.schema</code></p>
</li>
<li><p>æ˜¾ç¤ºè¡¨çš„ç»“æ„ï¼š <code>.schema Students</code></p>
</li>
<li><p>å¯¼å‡ºæŸä¸ªè¡¨çš„æ•°æ®ï¼š<code>.dump Students</code></p>
</li>
<li><p>è®¾ç½®å¯¼å‡ºæ–‡ä»¶æµï¼š<code>.output stdout</code> </p>
</li>
</ol>
<h3 id="æ•°æ®æ˜¾ç¤ºç›¸å…³å…ƒå‘½ä»¤">æ•°æ®æ˜¾ç¤ºç›¸å…³å…ƒå‘½ä»¤</h3><ol>
<li><p>è®¾ç½®åˆ†éš”ç¬¦ï¼š<code>.separator :</code></p>
</li>
<li><p>è®¾ç½®æ˜¾ç¤ºæ¨¡å¼ï¼š<code>.mode column</code></p>
</li>
<li><p>æ˜¾ç¤ºæ ‡é¢˜æ ï¼š<code>.headers on</code></p>
</li>
<li><p>è®¾ç½®æ¯åˆ—çš„æ˜¾ç¤ºå®½åº¦ï¼š<code>.width 8, 10, 15</code>        </p>
</li>
<li><p>è®¾ç½®NULLå€¼å¾—æ˜¾ç¤ºæ ·å¼ï¼š<code>.nullvalue NaN</code></p>
</li>
<li><p>åˆ—å‡ºå½“å‰æ˜¾ç¤ºæ ¼å¼çš„è®¾ç½®æƒ…å†µï¼š<code>.show</code></p>
</li>
<li><p>é…ç½®æ–‡ä»¶ï¼š<code>~/.sqliterc</code></p>
</li>
</ol>
<hr>
<h2 id="SQLiteæ•°æ®åº“æ“ä½œ">SQLiteæ•°æ®åº“æ“ä½œ</h2><h3 id="DDL">DDL</h3><h5 id="åˆ›å»ºè¡¨_(CREATE)">åˆ›å»ºè¡¨ (CREATE)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Students(ID <span class="built_in">integer</span>, Name <span class="built_in">text</span>, Age <span class="built_in">integer</span>);</span></span><br></pre></td></tr></table></figure>
<h6 id="ä¿®æ”¹è¡¨_(ALTER_TABLE)">ä¿®æ”¹è¡¨ (ALTER TABLE)</h6><p><em>å°†Studentsè¡¨æ”¹åä¸ºTeachersè¡¨</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Students <span class="keyword">RENAME</span> <span class="keyword">TO</span> Teachers;</span></span><br></pre></td></tr></table></figure>
<p><em>å‘Teacherè¡¨çš„ç»“æ„ä¸­ï¼Œå¢åŠ ä¸€ä¸ªSexåˆ—</em></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Teachers <span class="keyword">ADD</span> <span class="keyword">COLUMN</span> Sex <span class="built_in">text</span>;</span></span><br></pre></td></tr></table></figure>
<h6 id="åˆ é™¤è¡¨_(DROP_TABLE)">åˆ é™¤è¡¨ (DROP TABLE)</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> Teachers;</span></span><br></pre></td></tr></table></figure>
<h3 id="çº¦æŸ_ï¼ˆConstraintsï¼‰">çº¦æŸ ï¼ˆConstraintsï¼‰</h3><p>ä»€ä¹ˆæ˜¯çº¦æŸï¼Ÿ<br>æ¯”å¦‚å­¦æ ¡æ•™å¸ˆçš„æ•™å¸ˆè¡¨ï¼Œéƒ¨åˆ†å­—æ®µå¯èƒ½ä¼šæœ‰å¦‚ä¸‹çº¦æŸï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¹´é¾„ - å¤§äº20å²ã€‚å¦‚æœä½ æƒ³å½•å…¥ä¸€ä¸ªå°äº20å²çš„æ•™å¸ˆï¼Œç³»ç»Ÿä¼šæŠ¥é”™</span><br><span class="line">å›½ç± - é»˜è®¤ä¸­å›½ã€‚æ‰€è°“é»˜è®¤ï¼Œå°±æ˜¯å¦‚æœä½ ä¸å¡«å†™ï¼Œç³»ç»Ÿè‡ªåŠ¨å¡«ä¸Šé»˜è®¤å€¼</span><br><span class="line">å§“å - ä¸èƒ½ä¸ºç©ºã€‚å¦‚æœä¸å¡«ï¼Œä¼šæŠ¥é”™</span><br><span class="line">å‘˜å·¥å· - å”¯ä¸€ã€‚å¦‚æœé‡å¤ï¼Œä¼šæŠ¥é”™</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸Šé¢æåˆ°çš„å¤§äºã€é»˜è®¤ã€ä¸èƒ½ä¸ºç©ºã€å”¯ä¸€ç­‰ï¼Œå°±æ˜¯æ•°æ®çš„çº¦æŸæ¡ä»¶ã€‚åœ¨ç”¨ CREATE TABLE åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå°±åº”è¯¥å°†æ¯ä¸ªå­—æ®µåˆ—çš„çº¦æŸæ¡ä»¶äº‹å…ˆè¯´æ˜ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œ ä»¥åå†å¾€è¡¨é‡Œè¾“å…¥æ•°æ®çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦æ»¡è¶³çº¦æŸæ¡ä»¶ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œç³»ç»Ÿä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<p>SQLite å¸¸ç”¨çº¦æŸå¦‚ä¸‹ï¼š</p>
<ul>
<li>NOT NULL - éç©º</li>
<li>UNIQUE - å”¯ä¸€</li>
<li>PRIMARY KEY - ä¸»é”®</li>
<li>FOREIGN KEY - å¤–é”®</li>
<li>CHECK - æ¡ä»¶æ£€æŸ¥</li>
<li>DEFAULT - é»˜è®¤</li>
</ul>
<h5 id="ä¸»é”®_ï¼ˆPRIMARY_KEYï¼‰">ä¸»é”®    ï¼ˆPRIMARY KEYï¼‰</h5><ul>
<li>æ•°æ®è¡¨ä¸­æ¯ä¸€æ¡è®°å½•éƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œè¿™å°±åƒæˆ‘ä»¬æ¯ä¸ªäººçš„èº«ä»½è¯å·ç ã€å‘˜å·¥å·ã€é“¶è¡Œå¸å·ï¼›åè¿‡æ¥ä¹Ÿå¯ä»¥è¯´ï¼Œæ¯ä¸€ä¸ªä¸»é”®å¯¹åº”ç€ä¸€æ¡æ•°æ®è®°å½•ã€‚ æ‰€ä»¥ï¼Œä¸»é”®å¿…é¡»æ˜¯å”¯ä¸€çš„</li>
<li>ä¸€èˆ¬æƒ…å†µä¸‹ä¸»é”®åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªç´¢å¼•ï¼Œæ‰€ä»¥é€šè¿‡ä¸»é”®æŸ¥æ‰¾è®°å½•é€Ÿåº¦æ¯”è¾ƒå¿«</li>
<li>åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œä¸€ä¸ªè¡¨çš„ä¸»é”®å¯ä»¥ä½œä¸ºå¦å¤–ä¸€ä¸ªè¡¨çš„å¤–é”®ï¼Œ è¿™æ ·ï¼Œè¿™ä¸¤ä¸ªè¡¨ä¹‹é—´å°±é€šè¿‡è¿™ä¸ªé”®å»ºç«‹äº†å…³ç³»</li>
<li>ä¸»é”®ä¸€èˆ¬æ˜¯æ•´æ•°æˆ–è€…å­—ç¬¦ä¸²ï¼Œåªè¦ä¿è¯å”¯ä¸€å°±è¡Œã€‚ åœ¨ SQLite ä¸­ï¼Œä¸»é”®å¦‚æœæ˜¯æ•´æ•°ç±»å‹ï¼Œè¯¥åˆ—çš„å€¼å¯ä»¥è‡ªåŠ¨å¢é•¿</li>
</ul>
<h5 id="é»˜è®¤å€¼_ï¼ˆDEFAULTï¼‰">é»˜è®¤å€¼ ï¼ˆDEFAULTï¼‰</h5><p>æœ‰äº›å­—æ®µï¼Œåœ¨æ¯æ¡è®°å½•ä¸­ï¼Œå€¼éƒ½ä¸€æ ·ï¼Œåªåœ¨ä¸ªåˆ«æƒ…å†µä¸‹æ‰éœ€è¦æ›´æ”¹ï¼Œå¯ä»¥ç»™è¿™äº›å­—æ®µè®¾ç½®é»˜è®¤å€¼    </p>
<h5 id="éç©º_(NOT_NULL)">éç©º (NOT NULL)</h5><p>æœ‰äº›å­—æ®µï¼Œå¯èƒ½ä¸€æ—¶ä¸çŸ¥é“å¡«ä»€ä¹ˆå€¼ï¼Œå¹¶ä¸”ä¹Ÿæ²¡è®¾ç½®é»˜è®¤å€¼ã€‚å½“æ·»åŠ æ•°æ®æ—¶ï¼Œè¿™äº›å­—æ®µç©ºç½®ä¸å¡«ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºæ˜¯NULL</p>
<p>ä½†æœ‰å¦å¤–ä¸€äº›å­—æ®µï¼Œå¿…é¡»è¢«å¤©ä¸Šå€¼ï¼Œå¦‚æœä¸å¡«ï¼Œå°±ä¼šå‡ºé”™ã€‚è¿™æ ·çš„å­—æ®µè¢«ç§°ä¸ºéç©º(NOT NULL)å­—æ®µï¼Œéœ€è¦åœ¨å®šä¹‰è¡¨çš„æ—¶å€™äº‹å…ˆå£°æ˜</p>
<h5 id="å”¯ä¸€å€¼_(UNIQUE)">å”¯ä¸€å€¼    (UNIQUE)</h5><p>é™¤äº†ä¸»é”®ï¼Œå¯èƒ½ä¹Ÿæœ‰å†™å­—æ®µçš„å€¼ä¸èƒ½é‡å¤ï¼Œå°±éœ€è¦ç”¨åˆ°UNIQUEçº¦æŸäº†</p>
<h5 id="æ¡ä»¶æ£€æŸ¥_(CHECK)">æ¡ä»¶æ£€æŸ¥    (CHECK)</h5><p>æŸäº›å€¼å¿…é¡»ç¬¦åˆä¸€å®šçš„æ¡ä»¶æ‰å…è®¸å­˜å…¥ï¼Œè¿™æ˜¯å°±éœ€è¦ç”¨åˆ°è¿™ä¸ª CHECK çº¦æŸ</p>
<h5 id="å¤–é”®_(FOREIGN_KEY)">å¤–é”® (FOREIGN KEY)</h5><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ•°æ®åº“ä¸­å·²ç»æœ‰ Teachers è¡¨äº†ï¼Œå‡å¦‚æˆ‘ä»¬å†å»ºç«‹ä¸€ä¸ª Students è¡¨ï¼Œ è¦æ±‚ Students è¡¨ä¸­çš„æ¯ä¸€ä¸ªå­¦ç”Ÿéƒ½å¯¹åº”ä¸€ä¸ª Teachers è¡¨ä¸­çš„æ•™å¸ˆã€‚</p>
<p>å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ Students è¡¨ä¸­å»ºç«‹ä¸€ä¸ª TeacherID å­—æ®µï¼Œä¿å­˜å¯¹åº”æ•™å¸ˆçš„ IDï¼Œ è¿™æ ·ï¼Œå­¦ç”Ÿå’Œæ•™å¸ˆä¹‹é—´å°±å»ºç«‹äº†å…³ç³»ã€‚</p>
<p><code>é—®é¢˜æ˜¯ï¼šæˆ‘ä»¬æœ‰å¯èƒ½ç»™å­¦ç”Ÿå­˜å…¥ä¸€ä¸ªä¸åœ¨çš„ Teachers è¡¨ä¸­çš„ TeacherID å€¼ï¼Œ è€Œä¸”å‘ç°ä¸äº†è¿™ä¸ªé”™è¯¯ã€‚</code></p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æŠŠ Students è¡¨ä¸­ TeacherID å­—æ®µå£°æ˜ä¸ºä¸€ä¸ªå¤–é”®ï¼Œ è®©å®ƒçš„å€¼å¯¹åº”åˆ° Teachers è¡¨çš„ ID å­—æ®µä¸Šã€‚</p>
<p>è¿™æ ·ï¼Œä¸€æ—¦åœ¨ Students è¡¨ä¸­å­˜å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„æ•™å¸ˆ Id ï¼Œç³»ç»Ÿå°±ä¼šæŠ¥é”™ã€‚</p>
<p>å®é™…æµ‹è¯•ä¸­ï¼Œå‘ç°å°½ç®¡è®¾ç½®äº†å¤–é”®çº¦æŸï¼Œä¾ç„¶èƒ½å¤Ÿæ·»åŠ ä¸åœ¨Teachersè¡¨ä¸­çš„IDï¼Œæ¯”å¦‚3ã€‚åŸå› æ˜¯å› ä¸ºå¤–é”®å¼€å…³é»˜è®¤æ˜¯å…³é—­çš„ï¼Œæ‰“å¼€å¼€å…³å³å¯ä½¿èƒ½å¤–é”®çº¦æŸã€‚</p>
<p><code>æ³¨æ„ï¼š</code>é»˜è®¤æƒ…å†µä¸‹ï¼Œsqlite3åŠ¨æ€åº“ä¸­å¤–é”®åŠŸèƒ½æ˜¯å…³é—­çš„ï¼Œå¦‚æœè¦ä½¿ç”¨è¯¥åŠ¨æ€åº“ï¼Œéœ€è¦é‡æ–°ç¼–è¯‘è¯¥åº“ï¼Œå¹¶æ‰“å¼€å“åº”ç¼–è¯‘å®å¼€å…³ã€‚è¯¦è§<a href="https://www.sqlite.org/foreignkeys.html" target="_blank" rel="external">SQLite Foreign Key Support</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/15/Sqlite/" data-id="cie2ful43002hc2s6hp7vkgxq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQLite/">SQLite</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-iOSéŸ³é¢‘æŠ€æœ¯" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/iOSéŸ³é¢‘æŠ€æœ¯/" class="article-date">
  <time datetime="2015-04-15T05:44:05.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/iOSéŸ³é¢‘æŠ€æœ¯/">éŸ³é¢‘å¤„ç†</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="éŸ³é¢‘åŸºç¡€çŸ¥è¯†">éŸ³é¢‘åŸºç¡€çŸ¥è¯†</h1><p>è‡ªç„¶ç•Œä¿¡æ¯ï¼šæ¨¡æ‹Ÿä¿¡å· </p>
<p>æ¨¡æ‹Ÿä¿¡å·-&gt;æ•°å­—ä¿¡å· ï¼ˆæ•°å­—åŒ–ï¼‰</p>
<p>ç‚­ç²’ç”µè¯ç­’åŸç†ï¼š å£°éŸ³æŒ¯åŠ¨-&gt;ç‚­ç²’(ç”µé˜»)-&gt;ç”µæµå˜åŒ–</p>
<p><code>é‡‡æ ·</code>-&gt;<code>é‡åŒ–</code>-&gt;<code>ç¼–ç </code></p>
<h3 id="é‡‡æ ·">é‡‡æ ·</h3><ul>
<li>é¢‘ç‡ ï¼ˆäººè€³è¯†åˆ«å£°æ³¢é¢‘ç‡ 20Hz-20KHzï¼‰</li>
<li>é‡‡æ ·å®šç†ï¼ˆå¥ˆå¥æ–¯ç‰¹å®šå¾‹:å¦‚æœä¿¡å·æ˜¯å¸¦é™çš„ï¼Œå¹¶ä¸”é‡‡æ ·é¢‘ç‡å¤§äºä¿¡å·å¸¦å®½(é¢‘å®½)çš„2å€ï¼Œé‚£ä¹ˆï¼ŒåŸæ¥çš„è¿ç»­ä¿¡å·å¯ä»¥ä»é‡‡æ ·æ ·æœ¬ä¸­å®Œå…¨é‡å»ºå‡ºæ¥ï¼‰</li>
<li><p>é‡‡æ ·ç‡</p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åœ¨æ•°å­—éŸ³é¢‘é¢†åŸŸï¼Œå¸¸ç”¨çš„é‡‡æ ·ç‡:</span><br><span class="line"><span class="number">8</span>,<span class="number">000</span> Hz - ç”µè¯æ‰€ç”¨é‡‡æ ·ç‡ï¼Œå¯¹äºäººçš„è¯´è¯å·²ç»è¶³å¤Ÿ</span><br><span class="line"><span class="number">22</span>,<span class="number">050</span> Hz - æ— çº¿ç”µå¹¿æ’­æ‰€ç”¨é‡‡æ ·ç‡</span><br><span class="line"><span class="number">44</span>,<span class="number">100</span> Hz - éŸ³é¢‘CD,ä¹Ÿå¸¸ç”¨äº<span class="built_in">MPEG</span>-<span class="number">1</span>éŸ³é¢‘ï¼ˆVCD, SVCD, <span class="built_in">MP3</span>ï¼‰æ‰€ç”¨é‡‡æ ·ç‡</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ»¤æ³¢ ï¼ˆé«˜é€šæ»¤æ³¢å™¨ã€ä½é€šæ»¤æ³¢å™¨ï¼‰    </p>
</li>
</ul>
<h3 id="é‡åŒ–">é‡åŒ–</h3><p>è¿ç»­ä¿¡å·ç»è¿‡é‡‡æ ·æˆä¸ºç¦»æ•£ä¿¡å·ï¼Œç¦»æ•£ä¿¡å·ç»è¿‡é‡åŒ–å³æˆä¸ºæ•°å­—ä¿¡å·ã€‚ä¿¡å·çš„é‡‡æ ·å’Œé‡åŒ–é€šå¸¸éƒ½æ˜¯ç”±ADCå®ç°çš„ã€‚ä¾‹å¦‚CDéŸ³é¢‘ä¿¡å·å°±æ˜¯æŒ‰ç…§44110Hzçš„é¢‘ç‡é‡‡æ ·ï¼ŒæŒ‰16ä½å…ƒé‡åŒ–ä¸ºæœ‰ç€65536ï¼ˆ=2^{16}ï¼‰ä¸ªå¯èƒ½å–å€¼çš„æ•°å­—ä¿¡å·ã€‚</p>
<h3 id="ç¼–ç ">ç¼–ç </h3><p>è°ƒåˆ¶å³æ¨¡æ‹Ÿä¿¡å·-&gt;æ•°å­—ä¿¡å·ï¼Œè§£è°ƒå³æ•°å­—ä¿¡å·-&gt;æ¨¡æ‹Ÿä¿¡å·</p>
<ul>
<li><p>PCM (è„‰å†²ç¼–ç è°ƒåˆ¶ è‹±æ–‡ï¼šPulse-code modulation)</p>
<p>  åœ¨ç”µè¯å­¦ä¸­ï¼Œç”µè¯çš„å£°éŸ³é¢‘å·ç¼–ç æ ‡å‡†æ˜¯æ¯ç§’8000ä¸ªæ¨¡æ‹Ÿæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬8ä½ï¼Œæ€»å…±æ¯ç§’64 kbitçš„æ•°å­—ä¿¡å·</p>
</li>
<li><p>MP3ã€WMAã€WAV</p>
</li>
</ul>
<h1 id="ä½¿ç”¨System_Sound_Servicesæ’­æ”¾UIéŸ³æ•ˆå’Œè°ƒç”¨æŒ¯åŠ¨æ•ˆæœ">ä½¿ç”¨System Sound Servicesæ’­æ”¾UIéŸ³æ•ˆå’Œè°ƒç”¨æŒ¯åŠ¨æ•ˆæœ</h1><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>iOSä¸­æœ€ç®€å•çš„æ’­æ”¾å£°éŸ³å°±æ˜¯æ’­æ”¾ç³»ç»Ÿå£°éŸ³ï¼Œæ’­æ”¾ç³»ç»Ÿå£°éŸ³è¦ç”¨åˆ°System Sound Servicesï¼Œå®ƒæ˜¯Audio Toolbox Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›ï¼£è¯­è¨€é£æ ¼æ¥å£ç”¨äºæ’­æ”¾çŸ­çš„å£°éŸ³ï¼Œå¦‚æœå¯¹åº”çš„è®¾å¤‡æ”¯æŒæŒ¯åŠ¨ï¼Œè¿˜å¯ä»¥è°ƒç”¨æŒ¯åŠ¨æ•ˆæœã€‚</p>
<p>ä½¿ç”¨ System Sound Services çš„é™åˆ¶æ¡ä»¶ï¼š</p>
<ul>
<li>éŸ³é¢‘æ–‡ä»¶æ’­æ”¾é•¿åº¦ä¸èƒ½å¤§äº30ç§’</li>
<li>å¿…é¡»æ˜¯çº¿æ€§çš„éŸ³é¢‘æ ¼å¼ï¼šPCM or IMA4 (IMA/ADPCM) </li>
<li>æ–‡ä»¶æ ¼å¼å¿…é¡»æ˜¯.caf, .aif, æˆ–è€… .wav</li>
</ul>
<p>å¦‚æœæ˜¯ä½¿ç”¨<code>AudioServicesPlaySystemSound</code>å‡½æ•°ï¼Œè¿˜æœ‰å¦‚ä¸‹é™åˆ¶ï¼š</p>
<ul>
<li>éŸ³é‡å¤§å°è°ƒèŠ‚ï¼Œä¾èµ–äºå½“å‰ç³»ç»ŸéŸ³é‡è®¾ç½®</li>
<li>å£°éŸ³ç«‹å³æ’­æ”¾</li>
<li>ä¸æ”¯æŒå¾ªç¯æ’­æ”¾ã€ç«‹ä½“å£°å’Œå®šä½</li>
<li>ä¸æ”¯æŒåŒæ—¶æ’­æ”¾ï¼Œå³ä¸€æ¬¡åªèƒ½æ’­æ”¾ä¸€ä¸ªå£°éŸ³</li>
</ul>
<p>ç±»ä¼¼åœ°ï¼Œ<code>AudioServicesPlayAlertSound</code>å‡½æ•°å¯ä»¥æ’­æ”¾ä¸€ä¸ªç®€çŸ­çš„çš„å£°éŸ³ä½œä¸ºè­¦å‘ŠéŸ³ã€‚å¦‚æœåœ¨ä»–ä»¬çš„é“ƒéŸ³è®¾ç½®ä¸­é…ç½®äº†æŒ¯åŠ¨ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°é™¤äº†æ’­æ”¾å£°éŸ³æ–‡ä»¶å¤–ï¼Œè¿˜ä¼šè°ƒç”¨æŒ¯åŠ¨åŠŸèƒ½</p>
<p>æ³¨æ„ï¼š<code>ç³»ç»Ÿæä¾›çš„è­¦å‘Šå£°éŸ³å’Œç³»ç»Ÿæä¾›çš„ç”¨æˆ·ç•Œé¢çš„å£°éŸ³æ•ˆæœå¹¶ä¸æä¾›ç»™æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨kSystemSoundID_UserPreferredAlertå¸¸æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™AudioServicesPlayAlertSoundå‡½æ•°å°†ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœ</code></p>
<h2 id="How_toï¼Ÿ">How toï¼Ÿ</h2><p>ç¬¬ä¸€æ­¥ï¼š<code>å¼•å…¥å¤´æ–‡ä»¶</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;AudioToolbox/AudioToolbox.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒæ­¥ï¼š<code>åˆ›å»ºä¸€ä¸ªç³»ç»Ÿå£°éŸ³IDå¯¹è±¡</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ å±æ€§ (ç³»ç»Ÿå£°éŸ³IDå¯¹è±¡çš„URL)</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">CFURLRef</span> soundFileURLRef;</span><br><span class="line"><span class="comment">// æ·»åŠ å±æ€§ (ç³»ç»Ÿå£°éŸ³IDå¯¹è±¡)</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) SystemSoundID soundFileObject;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨CoreFoudationæ¥å£è·å–appçš„ main bundle</span><span class="built_in">CFBundleRef</span> mainBundle = <span class="built_in">CFBundleGetMainBundle</span> ();<span class="comment">// è·å–å°†è¦æ’­æ”¾çš„éŸ³é¢‘æ–‡ä»¶ï¼ˆtap.aifï¼‰çš„URL</span></span><br><span class="line"><span class="comment">// åœ¨CoreFoundationä¸­ï¼Œåˆ›å»ºæ–¹æ³•ä¸­åˆCreateæˆ–Copyçš„éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œæ‰€ä»¥_soundFileURLReféœ€è¦åœ¨åé¢é‡Šæ”¾å…¶å†…å­˜</span></span><br><span class="line">_soundFileURLRef  = <span class="built_in">CFBundleCopyResourceURL</span> (							 mainBundle,							 <span class="built_in">CFSTR</span> (<span class="string">"tap"</span>),							 <span class="built_in">CFSTR</span> (<span class="string">"caf"</span>),							 <span class="literal">NULL</span>);</span><br><span class="line"><span class="comment">// æ ¹æ®å£°éŸ³æ–‡ä»¶çš„URLï¼Œåˆ›å»ºä¸€ä¸ªç³»ç»Ÿå£°éŸ³IDå¯¹è±¡</span>AudioServicesCreateSystemSoundID (	_soundFileURLRef,   &amp;_soundFileObject);</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰æ­¥ï¼š<code>æ’­æ”¾å£°éŸ³</code></p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ™®é€šæ’­æ”¾</span><br><span class="line"><span class="pp">- <span class="params">(<span class="variable">IBAction</span>)</span> playSystemSound &#123;	AudioServicesPlaySystemSound <span class="params">(<span class="variable">_</span>sound<span class="variable">FileObject</span>)</span>;&#125;</span><br><span class="line">// æ’­æ”¾åŒæ—¶ï¼Œè§¦å‘ä¸€æ¬¡æŒ¯åŠ¨</span><br><span class="line">- <span class="params">(<span class="variable">IBAction</span>)</span> playSystemSound &#123;	AudioServicesPlayAlertSound<span class="params">(<span class="variable">_</span>sound<span class="variable">FileObject</span>)</span>;&#125;</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬å››æ­¥ï¼š<code>å›æ”¶å†…å­˜</code></p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="pp">- <span class="params">(void)</span>dealloc</span><br><span class="line">&#123;</span><br><span class="line">	AudioServicesDisposeSystemSoundID<span class="params">(self.sound<span class="variable">FileObject</span>)</span>;</span><br><span class="line">	CFRelease<span class="params">(<span class="variable">_</span>sound<span class="variable">FileURLRef</span>)</span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>å…³äºæŒ¯åŠ¨</strong></p>
<p>åœ¨è¿è¡ŒiOSç³»ç»Ÿçš„è®¾å¤‡ä¸Šï¼Œå¦‚æœè®¾å¤‡æ”¯æŒæŒ¯åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç è°ƒç”¨æŒ¯åŠ¨åŠŸèƒ½(iPod touchä¸æ”¯æŒè¯¥åŠŸèƒ½)</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span>- (<span class="keyword">void</span>) vibratePhone &#123;	AudioServicesPlaySystemSound (kSystemSoundID_Vibrate);&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¡¥å……è¯´æ˜</strong></p>
<p><code>ä½¿ç”¨CoreFoundationæ¥å£ V.S. Foundationæ¥å£</code></p>
<blockquote>
<p>å…³äºç¬¬äºŒæ­¥ï¼Œè·å–éŸ³é¢‘æ–‡ä»¶çš„URLï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Foundationæ¥å£ï¼Œå¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *sndURL = [[<span class="built_in">NSBundle</span> mainBundle] URLForResource:<span class="string">@"tap"</span> withExtension:<span class="string">@"caf"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨__bridgeä¿®é¥°ï¼Œä¸è½¬ç§»å¯¹è±¡çš„æ‰€æœ‰æƒã€‚æ‰€ä»¥ï¼Œåé¢ä¹Ÿå°±ä¸å†éœ€è¦é‡Šæ”¾_soundFileURLRefçš„å†…å­˜äº†</span></span><br><span class="line">_soundFileURLRef = (__bridge <span class="built_in">CFURLRef</span>)sndURL;</span><br></pre></td></tr></table></figure>
<p><code>åœ¨æ’­æ”¾å®Œå£°éŸ³ä¹‹åï¼Œé€šè¿‡å›è°ƒçš„æ–¹å¼æ¥å›æ”¶å†…å­˜</code></p>
<blockquote>
<p>å…³äºç¬¬å››æ­¥ï¼Œå›æ”¶å†…å­˜ï¼Œå¦‚æœæƒ³å†å£°éŸ³æ’­æ”¾å®Œä¹‹åï¼Œç«‹åˆ»å°±å›æ”¶å†…å­˜ï¼Œéœ€è¦é€šè¿‡æ³¨å†Œå›è°ƒå‡½æ•°çš„æ–¹å¼æ¥è¿›è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå®Œç³»ç»Ÿå£°éŸ³IDå¯¹è±¡ä¹‹åï¼Œæ³¨å†Œç§»é™¤å¯¹è±¡çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">AudioServicesAddSystemSoundCompletion(_soundFileObject, <span class="literal">nil</span>, <span class="literal">nil</span>, SoundFinished, <span class="literal">nil</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ˜¯è¯¥å›è°ƒå‡½æ•°çš„å®ç°ï¼Œé¦–å…ˆç§»é™¤è¯¥å›è°ƒå‡½æ•°ï¼Œç„¶åç§»é™¤ç³»ç»ŸIDå¯¹è±¡</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼Œä¸éœ€è¦å†é‡Šæ”¾_soundFileURLRefäº†</span></span><br><span class="line"><span class="keyword">void</span> SoundFinished (SystemSoundID snd, <span class="keyword">void</span>* context) &#123;</span><br><span class="line">	AudioServicesRemoveSystemSoundCompletion(snd);</span><br><span class="line">	AudioServicesDisposeSystemSoundID(snd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨AVAudioPlayeræ¥æ’­æ”¾æœ¬åœ°çš„éŸ³é¢‘æ–‡ä»¶æˆ–å†…å­˜ä¸­çš„éŸ³é¢‘æ•°æ®">ä½¿ç”¨AVAudioPlayeræ¥æ’­æ”¾æœ¬åœ°çš„éŸ³é¢‘æ–‡ä»¶æˆ–å†…å­˜ä¸­çš„éŸ³é¢‘æ•°æ®</h1><h2 id="æ¦‚è¿°-1">æ¦‚è¿°</h2><p>AVAudioPlayerç±»æä¾›äº†ä¸€ä¸ªç®€å•çš„Objective-Cæ¥å£ï¼Œç”¨äºæ’­æ”¾å£°éŸ³ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä¸éœ€è¦ç«‹ä½“å£°å®šä½æˆ–ç²¾ç¡®åŒæ­¥ï¼Œå¦‚æœä½ ä¸æ˜¯æ’­æ”¾æ¥è‡ªç½‘ç»œçš„éŸ³é¢‘æµï¼Œè‹¹æœå»ºè®®æ‚¨ä½¿ç”¨è¿™ä¸ªç±»è¿›è¡Œæ’­æ”¾ã€‚</p>
<p>ä½¿ç”¨AVAudioPlayerå®ä¾‹ï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>æ’­æ”¾ä»»ä½•æ—¶é•¿çš„éŸ³é¢‘</li>
<li>æ’­æ”¾æœ¬åœ°çš„éŸ³é¢‘æ–‡ä»¶æˆ–å†…å­˜ä¸­çš„éŸ³é¢‘æ•°æ®</li>
<li>æ”¯æŒå¾ªç¯æ’­æ”¾</li>
<li>åŒæ—¶æ’­æ”¾å¤šä¸ªå£°éŸ³ï¼ˆè™½ç„¶ä¸æ˜¯ç²¾ç¡®åŒæ­¥ï¼‰</li>
<li>å¯ä»¥ç›´æ¥å®šä½åˆ°éŸ³é¢‘æ’­æ”¾çš„ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œæ”¯æŒå¿«è¿›ï¼Œå¿«é€€</li>
<li>å¯ä»¥æ”¹å˜æ’­æ”¾é€Ÿç‡</li>
<li>å¯ä»¥è®¾ç½®æ’­æ”¾çš„éŸ³é‡å’Œç«‹ä½“å£°ç‰¹æ€§</li>
</ul>
<p><code>AVAudioPlayerç±»å¯ä»¥æ’­æ”¾iOSç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰ç±»å‹çš„éŸ³é¢‘æ ¼å¼</code></p>
<h2 id="How_to?">How to?</h2><p>é…ç½®ä¸€ä¸ªéŸ³é¢‘æ’­æ”¾å™¨å¯¹è±¡éœ€è¦å¦‚ä¸‹ä¸‰æ­¥:</p>
<ol>
<li>é€šè¿‡æ–‡ä»¶URLæˆ–è€…NSDataåˆå§‹åŒ–ä¸€ä¸ªéŸ³é¢‘æ’­æ”¾å™¨å®ä¾‹å¯¹è±¡</li>
<li>è°ƒç”¨prepareToPlayå‡½æ•°æ¥åˆå§‹åŒ–éŸ³é¢‘ç¡¬ä»¶</li>
<li>è®¾ç½®ä»£ç†å¯¹è±¡ï¼Œè¯¥ä»£ç†å¯¹è±¡ç”¨æ¥å¤„ç†ä¸€äº›ä¸­æ–­å’Œæ’­æ”¾å®Œæˆæ—¶çš„äº‹ä»¶</li>
</ol>
<h3 id="å¸¸ç”¨å±æ€§">å¸¸ç”¨å±æ€§</h3><ul>
<li>éŸ³é‡(volume)</li>
</ul>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">player.volumeÂ =<span class="number">0.8</span>;	 <span class="comment">// 0.0-1.0ä¹‹é—´</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¾ªç¯æ¬¡æ•°(numberOfLoops)</li>
</ul>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">player.numberOfLoopsÂ =<span class="number">3</span>;	<span class="comment">// é»˜è®¤ä¸º0ï¼Œåªæ’­æ”¾ä¸€æ¬¡ã€‚å¦‚æœæ˜¯ï¼1è¡¨ç¤ºæ— é™å¾ªç¯</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ€»æ—¶é•¿(duration)</li>
</ul>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSTimeIntervalÂ <span class="built_in">duration</span> <span class="subst">=</span> player<span class="built_in">.</span><span class="built_in">duration</span>;	<span class="comment">// åªè¯»ï¼Œè·å–æ€»æ—¶é—´(å•ä½æ˜¯ç§’)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å½“å‰ä½ç½®(currentTime)</li>
</ul>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">player.<span class="keyword">currentTime</span>Â =<span class="number">15.0</span>;	<span class="comment">// å¯ä»¥æŒ‡å®šä»ä»»æ„ä½ç½®(å•ä½æ˜¯ç§’)å¼€å§‹æ’­æ”¾</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å£°é“æ•°(numberOfChannels)</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSUInteger</span>Â channels = player<span class="variable">.numberOfChannels</span>;	<span class="comment">// åªè¯»ï¼Œå£°é“æ•°</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ˜¯å¦å…è®¸å¿«æ”¾å’Œæ…¢æ”¾(enableRate)</li>
</ul>
<p><code>è¯¥å±æ€§éœ€è¦åœ¨prepareToPlayæ–¹æ³•è°ƒç”¨ä¹‹å‰è®¾ç½®</code></p>
<ul>
<li>æ’­æ”¾é€Ÿç‡(rate)</li>
</ul>
<p><code>rateå¯è®¾ç½®åœ¨0.5-2.0èŒƒå›´ä¹‹å†…ï¼Œéœ€è¦enableRateä¸ºYES</code></p>
<ul>
<li>è®¾ç½®(settings)</li>
</ul>
<p><code>ä¸€ä¸ªåªè¯»çš„å­—å…¸ï¼Œç”¨æ¥æè¿°éŸ³é¢‘çš„ç‰¹æ€§ï¼Œæ¯”å¦‚æ¯”ç‰¹ç‡(AVEncoderBitRateKey)ã€é‡‡æ ·ç‡(AVSampleRateKey)ã€æ•°æ®æ ¼å¼(AVFormatIDKey)ç­‰</code></p>
<h3 id="å¸¸ç”¨æ–¹æ³•">å¸¸ç”¨æ–¹æ³•</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)prepareToPlay;	/* <span class="keyword">get</span> ready <span class="keyword">to</span> play <span class="keyword">the</span> sound. happens automatically <span class="function_start"><span class="keyword">on</span></span> play. */</span><br><span class="line">- (BOOL)play;			/* sound <span class="keyword">is</span> played asynchronously. */</span><br><span class="line">- (BOOL)playAtTime:(NSTimeInterval)<span class="property">time</span> NS_AVAILABLE(<span class="number">10</span>_7, <span class="number">4</span>_0); /* play a sound <span class="keyword">some</span> <span class="property">time</span> <span class="keyword">in</span> <span class="keyword">the</span> future. <span class="property">time</span> <span class="keyword">is</span> an absolute <span class="property">time</span> based <span class="function_start"><span class="keyword">on</span></span> <span class="keyword">and</span> <span class="keyword">greater than</span> deviceCurrentTime. */</span><br><span class="line">- (void)pause;			/* pauses playback, <span class="keyword">but</span> remains ready <span class="keyword">to</span> play. */</span><br><span class="line">- (void)stop;		   /* stops playback. no longer ready <span class="keyword">to</span> play. */</span><br></pre></td></tr></table></figure>
<hr>
<p>ç¬¬ä¸€æ­¥ï¼š<code>å¼•å…¥å¤´æ–‡ä»¶</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;AVFoundation/AVFoundation.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒæ­¥ï¼š<code>é…ç½®AVAudioPlayerå¯¹è±¡</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">AVAudioPlayer</span> *player;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *button;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSURL</span> *soundFileURL = [[<span class="built_in">NSBundle</span> mainBundle] </span><br><span class="line">					urlForResource:<span class="string">@"sound"</span> withExtension: <span class="string">@"wav"</span>];</span><br><span class="line"><span class="built_in">AVAudioPlayer</span> *newPlayer =              [[<span class="built_in">AVAudioPlayer</span> alloc] initWithContentsOfURL: soundFileURL_player = newPlayer;_player<span class="variable">.delegate</span> = <span class="keyword">self</span>;[_player prepareToPlay];</span><br></pre></td></tr></table></figure>
<p><code>æ’­æ”¾æˆ–æš‚åœ</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>) playOrPause: (<span class="keyword">id</span>) sender &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ­£åœ¨æ’­æ”¾ï¼Œå°±æš‚åœ</span>    <span class="keyword">if</span> (<span class="keyword">self</span><span class="variable">.player</span><span class="variable">.playing</span>) &#123;        [<span class="keyword">self</span><span class="variable">.button</span> setTitle: <span class="string">@"Play"</span> forState: <span class="built_in">UIControlStateHighlighted</span>];        [<span class="keyword">self</span><span class="variable">.button</span> setTitle: <span class="string">@"Play"</span> forState: <span class="built_in">UIControlStateNormal</span>];        [<span class="keyword">self</span><span class="variable">.player</span> pause];    <span class="comment">// å¦‚æœå·²ç»æ’­æ”¾å®Œæˆæˆ–æš‚åœï¼Œåˆ™å¼€å§‹æ’­æ”¾</span>    &#125; <span class="keyword">else</span> &#123;        [<span class="keyword">self</span><span class="variable">.button</span> setTitle: <span class="string">@"Pause"</span> forState: <span class="built_in">UIControlStateHighlighted</span>];        [<span class="keyword">self</span><span class="variable">.button</span> setTitle: <span class="string">@"Pause"</span> forState: <span class="built_in">UIControlStateNormal</span>];        [<span class="keyword">self</span><span class="variable">.player</span> play];&#125; &#125;</span><br></pre></td></tr></table></figure>
<p><code>å§”æ‰˜æ–¹æ³•</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) audioPlayerDidFinishPlaying: (<span class="built_in">AVAudioPlayer</span> *) player                        successfully: (<span class="built_in">BOOL</span>) completed &#123;    <span class="keyword">if</span> (completed == <span class="literal">YES</span>) &#123;        [<span class="keyword">self</span><span class="variable">.button</span> setTitle: <span class="string">@"Play"</span> forState: <span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        [<span class="keyword">self</span><span class="variable">.button</span> setTitle: <span class="string">@"Play"</span> forState: <span class="built_in">UIControlStateHighlighted</span>];        &#125; &#125;</span><br></pre></td></tr></table></figure>
<!--# ä½¿ç”¨AVPlayeræ¥æ’­æ”¾æœ¬åœ°æˆ–è¿œç«¯éŸ³é¢‘æ•°æ®-->
<h1 id="éŸ³é¢‘åå°æ’­æ”¾">éŸ³é¢‘åå°æ’­æ”¾</h1><p>è¦æ”¯æŒéŸ³é¢‘åå°æ’­æ”¾ï¼Œappéœ€è¦åšå¦‚ä¸‹äº‹æƒ…ï¼š</p>
<ul>
<li>åœ¨Info.plistæ–‡ä»¶ä¸­å¢åŠ â€œRequired background modesâ€é”® (UIBackgroundModes)åŒ…å«å€¼ä¸ºâ€œApp plays audioâ€ (audio)â€</li>
</ul>
<ul>
<li>è®¾ç½®audio sessionæ”¯æŒPlayback</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)setAudio2SupportBackgroundPlay</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIDevice</span> *device = [<span class="built_in">UIDevice</span> currentDevice];</span><br><span class="line">    <span class="keyword">if</span> (![device respondsToSelector:<span class="keyword">@selector</span>(isMultitaskingSupported)]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Unsupported device!"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!device<span class="variable">.multitaskingSupported</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Unsupported multitask!"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">AVAudioSession</span> *session = [<span class="built_in">AVAudioSession</span> sharedInstance];</span><br><span class="line">    <span class="built_in">NSError</span> *error = <span class="literal">nil</span>;</span><br><span class="line">    </span><br><span class="line">    [session setCategory:<span class="built_in">AVAudioSessionCategoryPlayback</span> error:&amp;error];</span><br><span class="line">    <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Playback category error:%@"</span>, error);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [session setActive:<span class="literal">YES</span> error:&amp;error];</span><br><span class="line">    <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Active category error:%@"</span>, error);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>æ¥æ”¶è¿œç¨‹æ§åˆ¶äº‹ä»¶</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line">    <span class="comment">// è®¾ç½®é¡µé¢å°†è¦å‡ºç°æ—¶ï¼Œæ¥æ”¶è¿œç¨‹æ§åˆ¶äº‹ä»¶ï¼Œå¹¶ä½¿è¯¥è§†å›¾æ§åˆ¶å™¨æˆä¸ºç¬¬ä¸€å“åº”è€…</span></span><br><span class="line">    [[<span class="built_in">UIApplication</span> sharedApplication] beginReceivingRemoteControlEvents];</span><br><span class="line">    [<span class="keyword">self</span> becomeFirstResponder];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line">    <span class="comment">// è®¾ç½®é¡µé¢å°†è¦æ¶ˆå¤±æ—¶ï¼Œåœæ­¢æ¥æ”¶è¿œç¨‹æ§åˆ¶äº‹ä»¶ï¼Œå¹¶ä½¿è¯¥è§†å›¾æ§åˆ¶å™¨å¤±å»ç¬¬ä¸€å“åº”è€…</span></span><br><span class="line">    [[<span class="built_in">UIApplication</span> sharedApplication] endReceivingRemoteControlEvents];</span><br><span class="line">    [<span class="keyword">self</span> resignFirstResponder];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)canBecomeFirstResponder</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿œç¨‹æ§åˆ¶äº‹ä»¶çš„å¤„ç†</span></span><br><span class="line">- (<span class="keyword">void</span>)remoteControlReceivedWithEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (event<span class="variable">.type</span> == <span class="built_in">UIEventTypeRemoteControl</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (event<span class="variable">.subtype</span>) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">UIEventSubtypeRemoteControlPause</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">UIEventSubtypeRemoteControlPlay</span>:</span><br><span class="line">            <span class="comment">// çº¿æ§è€³æœºæ§åˆ¶åˆ‡æ¢æš‚åœå’Œæ’­æ”¾</span></span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">UIEventSubtypeRemoteControlTogglePlayPause</span>:</span><br><span class="line">                [<span class="keyword">self</span> playOrPause:<span class="literal">nil</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">UIEventSubtypeRemoteControlNextTrack</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="built_in">UIEventSubtypeRemoteControlPreviousTrack</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;MediaPlayer/MediaPlayer.h&gt;</span></span></span><br><span class="line">    <span class="comment">// è®¾ç½®é”å±æ˜¾ç¤ºçš„å›¾ç‰‡</span></span><br><span class="line">    <span class="built_in">MPMediaItemArtwork</span> *artwork = [[<span class="built_in">MPMediaItemArtwork</span> alloc] initWithImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"çº¢é¢œåŠ«.jpg"</span>]];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºé”å±æ˜¾ç¤ºçš„æ’­æ”¾ä¿¡æ¯</span></span><br><span class="line">    [<span class="built_in">MPNowPlayingInfoCenter</span> defaultCenter]<span class="variable">.nowPlayingInfo</span> = @&#123;</span><br><span class="line">                                                              <span class="built_in">MPMediaItemPropertyPlaybackDuration</span>:@(_player<span class="variable">.duration</span>),<span class="built_in">MPMediaItemPropertyTitle</span>:<span class="string">@"çº¢é¢œåŠ«"</span>, <span class="built_in">MPMediaItemPropertyArtist</span>:<span class="string">@"å§šè´å¨œ"</span>,<span class="built_in">MPMediaItemPropertyArtwork</span>:artwork, <span class="built_in">MPNowPlayingInfoPropertyPlaybackRate</span>:@(<span class="number">1.0</span>f)&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="Audio_Session">Audio Session</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr_selector">[[AVAudioSession sharedInstance]</span> <span class="rule"><span class="attribute">setCategory</span>:<span class="value">AVAudioSessionCategoryPlayback error:&amp;error]</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="attr_selector">[[AVAudioSession sharedInstance]</span> <span class="rule"><span class="attribute">setActive</span>:<span class="value">YES error:&amp;error]</span></span>;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸­æ–­(interruptions)">ä¸­æ–­(interruptions)</h1><h1 id="è¾“å‡ºçº¿è·¯å˜æ›´ï¼ˆRouting_Changesï¼‰">è¾“å‡ºçº¿è·¯å˜æ›´ï¼ˆRouting Changesï¼‰</h1><h1 id="ä½¿ç”¨AVAudioRecorderæ¥å½•åˆ¶éŸ³é¢‘æ•°æ®">ä½¿ç”¨AVAudioRecorderæ¥å½•åˆ¶éŸ³é¢‘æ•°æ®</h1><p>How To:</p>
<ul>
<li>åŒ…å«å¤´æ–‡ä»¶</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;AVFoundation/AVFoundation.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>åˆ›å»ºå±æ€§ å½•éŸ³å¯¹è±¡ã€æ’­æ”¾å¯¹è±¡ã€å­˜æ”¾å½•éŸ³æ–‡ä»¶çš„URL</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">AVAudioRecorder</span> *audioRecorder;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">AVAudioPlayer</span> *audioPlayer;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSURL</span> *soundFileURL;</span><br></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½®AVAudioSessionæ”¯æŒå½•éŸ³å’Œå›æ”¾åŠŸèƒ½</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr_selector">[[AVAudioSession sharedInstance]</span> <span class="rule"><span class="attribute">setCategory</span>:<span class="value">AVAudioSessionCategoryPlayAndRecord error:nil]</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>å½•éŸ³å‰å‡†å¤‡å’Œè®¾ç½®å·¥ä½œ</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableDictionary</span> *recordSettings = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½•éŸ³æ–‡ä»¶çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">recordSettings[<span class="built_in">AVFormatIDKey</span>] = @(kAudioFormatAppleIMA4);</span><br><span class="line"><span class="comment">// é‡‡æ ·ç‡</span></span><br><span class="line">recordSettings[<span class="built_in">AVSampleRateKey</span>] = @(<span class="number">44100</span>);</span><br><span class="line"><span class="comment">// é€šé“æ•°</span></span><br><span class="line">recordSettings[<span class="built_in">AVNumberOfChannelsKey</span>] = @<span class="number">2</span>;</span><br><span class="line"><span class="comment">// é‡åŒ–ä½æ•°</span></span><br><span class="line">recordSettings[<span class="built_in">AVLinearPCMBitDepthKey</span>] = @<span class="number">16</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–ç è´¨é‡</span></span><br><span class="line">recordSettings[<span class="built_in">AVEncoderAudioQualityKey</span>] = @(<span class="built_in">AVAudioQualityHigh</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSError</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="keyword">self</span><span class="variable">.audioRecorder</span> = [[<span class="built_in">AVAudioRecorder</span> alloc] initWithURL:<span class="keyword">self</span><span class="variable">.soundFileURL</span> settings:recordSettings error:&amp;error];</span><br><span class="line"><span class="keyword">if</span> (error != <span class="literal">nil</span>) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"recorder error.%@"</span>,error);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡†å¤‡å½•åˆ¶</span></span><br><span class="line">[<span class="keyword">self</span><span class="variable">.audioRecorder</span> prepareToRecord];</span><br></pre></td></tr></table></figure>
<h1 id="è§†é¢‘æ’­æ”¾">è§†é¢‘æ’­æ”¾</h1><h2 id="MPMoviePlayerController">MPMoviePlayerController</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *url = [[<span class="built_in">NSBundle</span> mainBundle] URLForResource:<span class="string">@"abc"</span> withExtension:<span class="string">@"mp4"</span>];</span><br><span class="line"><span class="keyword">self</span><span class="variable">.player</span> = [[<span class="built_in">MPMoviePlayerController</span> alloc] initWithContentURL:url];</span><br><span class="line">[<span class="keyword">self</span><span class="variable">.player</span> prepareToPlay];</span><br><span class="line"></span><br><span class="line">[<span class="keyword">self</span><span class="variable">.view</span> addSubview:<span class="keyword">self</span><span class="variable">.player</span><span class="variable">.view</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span><span class="variable">.player</span><span class="variable">.view</span><span class="variable">.frame</span> = <span class="keyword">self</span><span class="variable">.view</span><span class="variable">.bounds</span>;</span><br><span class="line"></span><br><span class="line">[<span class="keyword">self</span><span class="variable">.player</span> play];</span><br></pre></td></tr></table></figure>
<h2 id="MPMoviePlayerViewController">MPMoviePlayerViewController</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    <span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://live.3gv.ifeng.com/live/hongkong.m3u8"</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">MPMoviePlayerViewController</span> *player = [[<span class="built_in">MPMoviePlayerViewController</span> alloc] initWithContentURL:url];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¾ç½®æ¨¡æ€æ˜¾ç¤ºçš„è¿‡åº¦æ•ˆæœ</span></span><br><span class="line">    player<span class="variable">.modalTransitionStyle</span> = <span class="built_in">UIModalTransitionStyleCoverVertical</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»¥æ¨¡æ€çš„æ–¹å¼æ˜¾ç¤ºè§†é¢‘ç•Œé¢</span></span><br><span class="line"><span class="comment">//    [self presentMoviePlayerViewControllerAnimated:player];</span></span><br><span class="line">    [<span class="keyword">self</span> presentViewController:player animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure>
<h1 id="æµåª’ä½“ç½‘ç«™æµ‹è¯•">æµåª’ä½“ç½‘ç«™æµ‹è¯•</h1><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">http:</span><span class="comment">//live.3gv.ifeng.com/live/hongkong.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819/nexttvnews_hls/StreamEdge.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819-b/nexttvnews_hls/StreamEdge.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819/nexttvnews_hls/StreamMobLow.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819-b/nexttvnews_hls/StreamMobLow.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819/nexttvnews_hls/StreamMobHigh.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819-b/nexttvnews_hls/StreamMobHigh.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819/nexttvnews_hls/StreamWifi.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819-b/nexttvnews_hls/StreamWifi.m3u8 </span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819/nexttvnews_hls/StreamEdgeaudio.m3u8</span></span><br><span class="line"><span class="string">http:</span><span class="comment">//nexttvnews_hls-i.akamaihd.net/hls/live/215819-b/nexttvnews_hls/StreamEdgeaudio.m3u8</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/15/iOSéŸ³é¢‘æŠ€æœ¯/" data-id="cie2ful2e0016c2s6z1tnthem" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/éŸ³é¢‘å¤„ç†/">éŸ³é¢‘å¤„ç†</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-é”®ç›˜æ”¶èµ·çš„æ–¹æ³•" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/10/é”®ç›˜æ”¶èµ·çš„æ–¹æ³•/" class="article-date">
  <time datetime="2015-04-10T09:51:41.000Z" itemprop="datePublished">2015-04-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/10/é”®ç›˜æ”¶èµ·çš„æ–¹æ³•/">é”®ç›˜æ”¶èµ·çš„æ–¹æ³•</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ios_æ”¶èµ·é”®ç›˜çš„æ–¹æ³•">ios æ”¶èµ·é”®ç›˜çš„æ–¹æ³•</h1><h2 id="1-_ç‚¹å‡»_return_é”®æ”¶èµ·é”®ç›˜">1. ç‚¹å‡» return é”®æ”¶èµ·é”®ç›˜</h2>   <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField</span><br><span class="line">&#123;</span><br><span class="line">    [textField resignFirstResponder];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®å®ç°æ”¶èµ·é”®ç›˜">2.ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®å®ç°æ”¶èµ·é”®ç›˜</h2><ul>
<li><p>é€šè¿‡touchesBeginï¼ˆï¼‰æ–¹æ³•</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">     <span class="tag">-</span> (void)<span class="tag">touchesBegan</span>:(NSSet *)<span class="tag">touches</span> <span class="tag">withEvent</span>:(UIEvent *)<span class="tag">event</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr_selector">[self.view endEditing:YES]</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>é€šè¿‡è®© <code>textField</code> å¤±å»ç¬¬ä¸€å“åº”è€…ï¼Œæ¥å®ç°æ”¶èµ·é”®ç›˜:</p>
<p><strong><code>First</code></strong>å°†self.viewè®¾ç½®æˆä¸€ä¸ªUIControlï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œè¾…åŠ©éšè—æ–‡æœ¬æ¡†çš„ç¬¬ä¸€å“åº”è€…</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   - (<span class="keyword">void</span>)loadView</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.view</span> = [[<span class="built_in">UIControl</span> alloc] initWithFrame:[[<span class="built_in">UIScreen</span> mainScreen] bounds]];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.view</span><span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">    [(<span class="built_in">UIControl</span> *)<span class="keyword">self</span><span class="variable">.view</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(clickBack) forControlEvents:<span class="built_in">UIControlEventTouchDown</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>   <strong><code>Second</code></strong>è®¾ç½®ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»èƒŒæ™¯ä½¿æ–‡æœ¬æ¡†å¤±å»ç¬¬ä¸€å“åº”è€…ï¼š</p>
   <figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   <span class="tag">-</span> (void)<span class="tag">clickBack</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr_selector">[_textField resignFirstResponder]</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/10/é”®ç›˜æ”¶èµ·çš„æ–¹æ³•/" data-id="cie2ful140003c2s6ko2fat9a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/é”®ç›˜æ”¶èµ·çš„æ–¹æ³•/">é”®ç›˜æ”¶èµ·çš„æ–¹æ³•</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-ios_å±å¹•ä¸Šç§»" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/10/ios_å±å¹•ä¸Šç§»/" class="article-date">
  <time datetime="2015-04-10T09:51:41.000Z" itemprop="datePublished">2015-04-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/10/ios_å±å¹•ä¸Šç§»/">å±å¹•ä¸Šç§»çš„æ–¹æ³•</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="æ–¹æ³•æ­¥éª¤">æ–¹æ³•æ­¥éª¤</h3><ul>
<li><p>1.é¦–å…ˆè¦çŸ¥é“ TextField çš„ä½ç½®:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_textField = [[<span class="built_in">UITextField</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">500</span>, <span class="number">220</span>, <span class="number">44</span>)];</span><br><span class="line"> _textField<span class="variable">.borderStyle</span> = <span class="built_in">UITextBorderStyleBezel</span>;</span><br><span class="line"> _textField<span class="variable">.delegate</span> = <span class="keyword">self</span>;</span><br><span class="line"> [<span class="keyword">self</span><span class="variable">.view</span> addSubview:_textField];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>2.æ–‡æœ¬æ¡†è¿›å…¥ç¼–è¾‘çŠ¶æ€æ—¶ï¼Œåˆ¤æ–­æ–‡æœ¬æ¡†çš„ä¸Šè¾¹è·ï¼Œè‡ªèº«é«˜åº¦å’Œè·ç¦»é”®ç›˜çš„è·ç¦»ï¼Œæ˜¯å¦å¤§äºé”®ç›˜çš„ä¸Šè¾¹è·ï¼Œæ˜¯åˆ™å°†selfã€‚viewä¸Šè¡£è¯¥å·®å€¼å³å¯å®ç°å±å¹•ä¸Šç§»</p>
  <figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">   - (<span class="keyword">void</span>)textFieldDidBeginEditing:(UITextField *)textField</span><br><span class="line">&#123;</span><br><span class="line">    CGRect oldFrame = _textField.frame;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">float</span> offset = oldFrame.origin.y+oldFrame.<span class="built_in">size</span>.<span class="variable">height</span>+<span class="number">20</span> - (self.view.frame.<span class="built_in">size</span>.<span class="variable">height</span> -<span class="number">216</span>);</span><br><span class="line">    <span class="built_in">float</span> <span class="variable">width</span> = [[UIScreen mainScreen] bounds].<span class="built_in">size</span>.<span class="variable">width</span>;</span><br><span class="line">    <span class="built_in">float</span> <span class="variable">height</span> = [[UIScreen mainScreen] bounds].<span class="built_in">size</span>.<span class="variable">height</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (offset &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        [UIView beginAnimations:@<span class="string">"resetViewHeight"</span> context:nil];</span><br><span class="line">        [UIView setAnimationDuration:<span class="number">0.3</span>];</span><br><span class="line">        CGRect <span class="built_in">rect</span> =  CGRectMake(<span class="number">0</span>, -offset, <span class="variable">width</span>, <span class="variable">height</span>);</span><br><span class="line">        self.view.frame = <span class="built_in">rect</span>;</span><br><span class="line">        [UIView commitAnimations];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>3.å¤±å»ç¬¬ä¸€å“åº”è€…çš„æ—¶å€™å°† self.view çš„ Frame å¤åŸ</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   - (<span class="keyword">void</span>)textFieldDidEndEditing:(<span class="built_in">UITextField</span> *)textField</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="built_in">UIView</span> beginAnimations:<span class="string">@"resetViewHeight"</span> context:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationDuration:<span class="number">0.1</span>];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.view</span><span class="variable">.frame</span> = [[<span class="built_in">UIScreen</span> mainScreen] bounds];</span><br><span class="line">    [<span class="built_in">UIView</span> commitAnimations];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://www.ms.net.cn/ms/Article/UploadFiles/200610/2006105143759367.gif" alt="image"></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/10/ios_å±å¹•ä¸Šç§»/" data-id="cie2ful2c0013c2s62cnnq1ds" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å±å¹•ä¸Šç§»çš„æ–¹æ³•/">å±å¹•ä¸Šç§»çš„æ–¹æ³•</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="ios-gitå¸¸ç”¨æ“ä½œ" class="article article-type-ios" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/03/gitå¸¸ç”¨æ“ä½œ/" class="article-date">
  <time datetime="2015-04-03T11:20:14.000Z" itemprop="datePublished">2015-04-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/03/gitå¸¸ç”¨æ“ä½œ/">git å¸¸ç”¨æ“ä½œ2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</h2><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span>. åˆå§‹åŒ–ä»“åº“</span><br><span class="line"></span><br><span class="line">	 git init</span><br><span class="line"><span class="number">2</span>. é…ç½®ä½œè€…ä¿¡æ¯</span><br><span class="line">	 git config --global <span class="keyword">user</span>.email <span class="string">"youremail@corp.com"</span></span><br><span class="line">	 git config --global <span class="keyword">user</span>.name <span class="string">"yourname"</span></span><br><span class="line">	</span><br><span class="line"><span class="number">3</span>. æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">	- git add \<span class="variable">&lt;filename\&gt;</span> </span><br><span class="line">	- git add * (æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº)</span><br><span class="line"><span class="number">4</span>. ç§»é™¤æ–‡ä»¶</span><br><span class="line">	- git rm \<span class="variable">&lt;filename\&gt;</span></span><br><span class="line"><span class="number">5</span>. é‡å‘½åä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">	- git mv \<span class="variable">&lt;oldfilename\&gt;</span> \<span class="variable">&lt;newfilename\&gt;</span></span><br><span class="line"><span class="number">6</span>. æäº¤æš‚å­˜åŒº</span><br><span class="line"></span><br><span class="line">	`git commitåªä¼šæäº¤æš‚å­˜åŒºï¼ˆstagedï¼‰é‡Œé¢çš„æ–‡ä»¶`</span><br><span class="line"></span><br><span class="line">	git commit -m <span class="string">"message"</span>	</span><br><span class="line"><span class="number">7</span>. æŸ¥çœ‹å·¥ä½œç›®å½•çš„çŠ¶æ€</span><br><span class="line">	git status</span><br><span class="line"><span class="number">8</span>. æŸ¥çœ‹æäº¤å†å²è®°å½•</span><br><span class="line">	git <span class="keyword">log</span></span><br><span class="line"><span class="number">9</span>. æŸ¥çœ‹æ–‡ä»¶æ”¹å˜</span><br><span class="line">	git diff</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æ’¤é”€æ“ä½œ">æ’¤é”€æ“ä½œ</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">1. </span>æ’¤é”€åŠ å…¥æš‚å­˜åŒºçš„æ“ä½œ</span><br><span class="line"><span class="code">	git reset HEAD \&lt;file\&gt;</span></span><br><span class="line"><span class="bullet">2. </span>æ’¤é”€ä¿®æ”¹çš„æ“ä½œ </span><br><span class="line"><span class="code">	git checkout -- \&lt;file\&gt;</span></span><br><span class="line"><span class="bullet">3. </span>å°†æœ¬åœ°çš„ä¿®æ”¹æ”¾è¿›å›æ”¶ç«™</span><br><span class="line"><span class="code">	git stash</span></span><br><span class="line"><span class="bullet">4. </span>ä»å›æ”¶ç«™ä¸­æ¢å¤æœ¬åœ°çš„ä¿®æ”¹</span><br><span class="line"><span class="code">	git stash apply</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Tagæ“ä½œ">Tagæ“ä½œ</h2><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1.</span> æŸ¥çœ‹<span class="built_in">tag</span></span><br><span class="line">	git <span class="built_in">tag</span></span><br><span class="line"><span class="number">2.</span> åˆ›å»º<span class="built_in">tag</span></span><br><span class="line">	git <span class="built_in">tag</span> <span class="attribute">-a</span> v1<span class="built_in">.0</span> <span class="attribute">-m</span> <span class="string">"my version 1.0"</span></span><br><span class="line"><span class="number">3.</span> æ˜¾ç¤º<span class="built_in">tag</span>ä¿¡æ¯</span><br><span class="line">	git show v1<span class="built_in">.0</span></span><br><span class="line"><span class="number">4.</span> å¯¹ä¹‹å‰çš„æäº¤æ‰“<span class="built_in">tag</span></span><br><span class="line">	git <span class="built_in">tag</span> <span class="attribute">-a</span> v0<span class="built_in">.1</span> <span class="attribute">-m</span> <span class="string">"version 0.1"</span> <span class="subst">+</span> å“ˆå¸Œå€¼</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æŸ¥çœ‹å“ˆå¸Œå€¼">æŸ¥çœ‹å“ˆå¸Œå€¼</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd <span class="class">.git</span></span><br><span class="line">cd <span class="class">.objects</span></span><br><span class="line">cd +å“ˆå¸Œå€¼çš„å‰ä¸¤ä½ å°±å¯æŸ¥çœ‹å“ˆå¸Œå€¼</span><br><span class="line">git cat-file -<span class="tag">p</span>  + å“ˆå¸Œå€¼</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="åˆ†æ”¯æ“ä½œ">åˆ†æ”¯æ“ä½œ</h2><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. æŸ¥çœ‹åˆ†æ”¯</span><br><span class="line">	-<span class="ruby"> git branch</span><br><span class="line"></span>2. åˆ›å»ºåˆ†æ”¯</span><br><span class="line">	-<span class="ruby"> git branch \&lt;branchname\&gt;</span><br><span class="line"></span>3. åˆ é™¤åˆ†æ”¯</span><br><span class="line">	-<span class="ruby"> git branch -d \&lt;branchname\&gt;</span><br><span class="line"></span>4. åˆ‡æ¢åˆ†æ”¯</span><br><span class="line">	-<span class="ruby"> git checkout \&lt;branchname\&gt;</span><br><span class="line"></span>5. åˆå¹¶åˆ†æ”¯</span><br><span class="line">	-<span class="ruby"> git merge \&lt;branchname\&gt;</span><br><span class="line"></span>6. rebaseæ“ä½œ</span><br><span class="line">	-<span class="ruby"> git rebase \&lt;basebranch\&gt; \&lt;newbranch\&gt;</span><br><span class="line"></span>7. HEAD æŒ‡å½“å‰æ‰€åœ¨çš„åˆ†æ”¯   cat HEAD  æŸ¥çœ‹å½“å‰çš„åˆ†æ”¯</span><br><span class="line">	*è¡¨ç¤ºå½“å‰æ˜¯å“ªä¸ªåˆ†æ”¯</span><br><span class="line">8. è§£å†³åˆå¹¶å†²çªï¼ˆä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶ä¼šæœ‰å†²çªï¼Œä¸åŒçš„æ–‡ä»¶æ²¡æœ‰å†²çªï¼‰</span><br><span class="line">   åœ¨å†²çªçš„æ–‡ä»¶ä¸­ç›´æ¥ä¿®æ”¹å†…å®¹ï¼ˆcat fileï¼‰</span><br><span class="line">	git branch --mergedæŸ¥çœ‹å·²ç»åˆå¹¶çš„åˆ†æ”¯</span><br><span class="line">	git branch --no-mergedæŸ¥çœ‹æ²¡æœ‰åˆå¹¶çš„åˆ†æ”¯</span><br><span class="line">9.	git cherry-pick -å“ˆå¸Œå€¼ï¼ˆå¸Œæœ›åªç”¨å¦ä¸€ä¸ªåˆ†æ”¯çš„å•ä¸ªåŠŸèƒ½ï¼‰</span><br><span class="line">10.	git checkout -b + åˆ†æ”¯å  åˆ›å»ºä¸€ä¸ªåˆ†æ”¯å¹¶é€‰æ‹©è¯¥åˆ†æ”¯</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="è¿œç«¯ä»“åº“æ“ä½œ">è¿œç«¯ä»“åº“æ“ä½œ</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. å…‹éš†ä¸€ä¸ªè¿œç«¯ä»“åº“</span><br><span class="line">	git clone *URL*</span><br><span class="line">2. æ·»åŠ è¿œç«¯ä»“åº“</span><br><span class="line">	git remote add <span class="command">\&lt;</span>name<span class="command">\&gt;</span> <span class="command">\&lt;</span>URL<span class="command">\&gt;</span></span><br><span class="line">3. æ›´æ–°è¿œç«¯ä»“åº“çš„åˆ†æ”¯å’Œæ•°æ®</span><br><span class="line">	git fetch <span class="command">\&lt;</span>name<span class="command">\&gt;</span> </span><br><span class="line">4. è·å–å¹¶åˆå¹¶è¿œç«¯ä»“åº“çš„åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">	git pull <span class="command">\&lt;</span>reponame<span class="command">\&gt;</span> <span class="command">\&lt;</span>branchname<span class="command">\&gt;</span></span><br><span class="line">	eg: `git pull origin master`</span><br><span class="line">5. ä¸Šä¼ æœ¬åœ°åˆ†æ”¯å’Œæ•°æ®åˆ°è¿œç«¯ä»“åº“</span><br><span class="line">	git push <span class="command">\&lt;</span>reponame<span class="command">\&gt;</span> <span class="command">\&lt;</span>branchname<span class="command">\&gt;</span></span><br><span class="line">	eg: `git push origin master` </span><br><span class="line">6. è·Ÿè¸ªè¿œç«¯ä»“åº“ä¸Šçš„åˆ†æ”¯</span><br><span class="line">	git checkout --track origin/testbranch</span><br><span class="line">	git checkout -b test origin/testbranch</span><br></pre></td></tr></table></figure>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/03/gitå¸¸ç”¨æ“ä½œ/" data-id="cie2ful2j001cc2s6erdyrbly" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Block-ä»£ç å—" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/24/Block-ä»£ç å—/" class="article-date">
  <time datetime="2015-03-24T13:36:17.000Z" itemprop="datePublished">2015-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/24/Block-ä»£ç å—/">Block(ä»£ç å—)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><pre><code>- ä»£ç å—å¯¹è±¡ç®€ç§°ä¸ºâ€œä»£ç å—â€ï¼Œæ˜¯å¯¹<span class="keyword">C</span>è¯­è¨€ä¸­å‡½æ•°çš„æ‰©å±•ã€‚è¿è¡Œåœ¨iOS4ã€‚<span class="number">0</span>å’ŒOS  X10.6ç‰ˆæœ¬ä»¥ä¸Š
- ä»£ç å—å®é™…ä¸Šæ˜¯ç”±<span class="keyword">C</span>è¯­è¨€å®ç°çš„ï¼Œæ‰€ä»¥åœ¨å„ç§ä»¥<span class="keyword">C</span>ä½œä¸ºåŸºç¡€çš„è¯­è¨€å†…éƒ½æ˜¯æœ‰æ•ˆçš„åŒ…æ‹¬ï¼šObjectiveï¼<span class="keyword">C</span>ï¼Œ<span class="keyword">C</span>ï¼‹ï¼‹ä»¥åŠObjectiveï¼<span class="keyword">C</span>++
- ä»£ç å—æœ¬è´¨ä¸Šæ˜¯å’Œå…¶ä»–å˜é‡ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œä»£ç å—å­˜å‚¨çš„æ•°æ®æ˜¯ä¸€ä¸ªå‡½æ•°ä½“ï¼Œä½¿ç”¨ä»£ç å—æ—¶ï¼Œå¯ä»¥åƒè°ƒç”¨å…¶ä»–æ ‡å‡†å‡½æ•°ä¸€æ ·ï¼Œä¼ å…¥å‚æ•°æ•°ï¼Œå¹¶å¾—åˆ°è¿”å›å€¼ã€‚
-  ä»£ç å—ä¸å±äºANSIçš„<span class="keyword">C</span>è¯­è¨€æ ‡å‡†ã€‚å…³äºä»£ç å—çš„æè®®å·²ç»æäº¤ç»™äº†<span class="keyword">C</span>ç¨‹åºè¯­è¨€æ ‡å‡†å›¢ä½“ã€‚
</code></pre><h2 id="å‡½æ•°æŒ‡é’ˆ_VS_ä»£ç å—">å‡½æ•°æŒ‡é’ˆ VS ä»£ç å—</h2><p><strong>å‡½æ•°æŒ‡é’ˆçš„è¯­æ³•æ ¼å¼</strong></p>
<pre><code>è¿”å›å€¼ç±»å‹ï¼ˆ*å‡½æ•°åï¼‰ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰ï¼›

eg: <span class="keyword">void</span> (*myFunction) (<span class="keyword">void</span>);
</code></pre><p><strong>ä»£ç å—çš„è¯­æ³•æ ¼å¼</strong></p>
<pre><code>è¿”å›å€¼ç±»å‹ï¼ˆ^ä»£ç å—åï¼‰(å‚æ•°åˆ—è¡¨) ï¼ ^è¿”å›å€¼ç±»å‹(å‚æ•°åˆ—è¡¨){è¡¨è¾¾å¼ï¼›}ï¼›

eg: <span class="keyword">void</span> (^myBlock)() = ^{printf(<span class="string">"Hello, Block\n"</span>);};
</code></pre><p><code>è¯´æ˜ï¼š</code></p>
<pre><code>è¿”å›å€¼ç±»å‹å’Œå‚æ•°åˆ—è¡¨éƒ½å¯ä»¥æœ‰æ¡ä»¶çœç•¥

çœç•¥è¿”å›å€¼ç±»å‹ï¼Œè‹¥è¡¨è¾¾å¼ä¸­æœ‰<span class="keyword">return</span>è¯­å¥å°±ä½¿ç”¨è¯¥è¿”å›å€¼çš„ç±»å‹ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™ä¸º<span class="keyword">void</span>    

çœç•¥è¿”å›å€¼ç±»å‹æ—¶ï¼Œè‹¥è¡¨è¾¾å¼ä¸­æœ‰å¤šä¸ª<span class="keyword">return</span>è¯­å¥ï¼Œåˆ™æ‰€æœ‰<span class="keyword">return</span>è¯­å¥è¿”å›å€¼ç±»å‹å¿…é¡»ç›¸åŒ

å¦‚æœä¸ä½¿ç”¨å‚æ•°ï¼Œåˆ™å‚æ•°åˆ—è¡¨ä¹Ÿå¯ä»¥çœç•¥
</code></pre><h2 id="ä»£ç å—çš„ä½¿ç”¨">ä»£ç å—çš„ä½¿ç”¨</h2><p>ç›´æ¥ä½¿ç”¨</p>
<pre><code><span class="keyword">void</span>(^myBlock)() = ^{<span class="built_in">printf</span>(<span class="string">"Hello,Block\n"</span>);};

myBlock();
</code></pre><p>ä»£ç å—å†…è”</p>
<pre><code>ï¿¼<span class="built_in">NSArray</span> *array = @[<span class="string">@"One"</span>, <span class="string">@"Two"</span>, <span class="string">@"Three"</span>, <span class="string">@"Four"</span>];

ï¿¼<span class="built_in">NSLog</span>(<span class="string">@"Unsorted array: %@"</span>, array);

ï¿¼<span class="built_in">NSArray</span> *sortedArray = [array

ï¿¼sortedArrayUsingComparator:^<span class="built_in">NSComparisonResult</span>(<span class="keyword">id</span> obj1, <span class="keyword">id</span> obj2) {<span class="keyword">return</span> [obj1 compare:obj2];
ï¿¼}];

<span class="built_in">NSLog</span>(<span class="string">@"Sorted array: %@"</span>, sortedArray);
</code></pre><h2 id="ä½¿ç”¨typedefå®šä¹‰ç›¸åŒç±»å‹çš„ä»£ç å—">ä½¿ç”¨typedefå®šä¹‰ç›¸åŒç±»å‹çš„ä»£ç å—</h2><pre><code><span class="keyword">typedef</span> <span class="built_in">NSComparisonResult</span>(^<span class="built_in">NSComparator</span>)(<span class="keyword">id</span> obj1,<span class="keyword">id</span> obj2);
</code></pre><h2 id="ä»£ç å—çš„å˜é‡">ä»£ç å—çš„å˜é‡</h2><pre><code>å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨ä»£ç å—å†…éƒ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨<span class="comment">(å¯ä»¥ä¿®æ”¹å…¶å€¼)</span> 

å±€éƒ¨å˜é‡åœ¨ä»£ç å—å†…éƒ¨æ— æ³•ä¿®æ”¹å…¶å€¼,åŸå› æ˜¯ä»£ç å—çš„å±€éƒ¨å˜é‡åœ¨ç¼–è¯‘é˜¶æ®µè¢«çœ‹åšä¸ºå¸¸é‡

å¦‚æœéœ€è¦åœ¨ä»£ç å—ä¸­ä¿®æ”¹å±€éƒ¨å˜é‡,éœ€è¦åœ¨å±€éƒ¨å˜é‡å‰é¢åŠ __blockä¿®é¥°ç¬¦
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/03/24/Block-ä»£ç å—/" data-id="cie2ful4e002qc2s6sikcs6sa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Block/">Block</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AFNetworking/">AFNetworking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARCè§„åˆ™/">ARCè§„åˆ™</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Block/">Block</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Persistence/">Data Persistence</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FMDB/">FMDB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Local-Romote-Notification/">Local/Romote Notification</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLite/">SQLite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVN/">SVN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UIScorllView/">UIScorllView</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UIView-Animation/">UIView Animation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI-Notes/">UI_Notes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIM-Sed/">VIM_Sed</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/accelerator-key/">accelerator-key</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/background-task/">background_task</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/certificate/">certificate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoaPods/">cocoaPods</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOSä¸­çš„ç½‘ç»œæ¡†æ¶/">iOSä¸­çš„ç½‘ç»œæ¡†æ¶</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kinds-of-viewControllers/">kinds of viewControllers</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/navigationBarçš„åˆ·æ–°/">navigationBarçš„åˆ·æ–°</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oc/">oc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/setUpBlog/">setUpBlog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlite3å‘½ä»¤è¡Œå·¥å…·/">sqlite3å‘½ä»¤è¡Œå·¥å…·</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ä¸€äº›å°çš„çŸ¥è¯†ç‚¹æ€»ç»“/">ä¸€äº›å°çš„çŸ¥è¯†ç‚¹æ€»ç»“</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å…¬é’¥ç§é’¥åŠ å¯†/">å…¬é’¥ç§é’¥åŠ å¯†</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å†…å­˜ç®¡ç†/">å†…å­˜ç®¡ç†</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/åŠ¨æ€è®¡ç®—UITableViewCellé«˜åº¦/">åŠ¨æ€è®¡ç®—UITableViewCellé«˜åº¦</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å¤šçº¿ç¨‹/">å¤šçº¿ç¨‹</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/åª’ä½“é‡‡é›†/">åª’ä½“é‡‡é›†</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å±å¹•ä¸Šç§»çš„æ–¹æ³•/">å±å¹•ä¸Šç§»çš„æ–¹æ³•</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æ•°æ®è§£æXML/">æ•°æ®è§£æXML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é”®ç›˜æ”¶èµ·çš„æ–¹æ³•/">é”®ç›˜æ”¶èµ·çš„æ–¹æ³•</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/éŸ³é¢‘å¤„ç†/">éŸ³é¢‘å¤„ç†</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AFNetworking/" style="font-size: 10px;">AFNetworking</a><a href="/tags/ARCè§„åˆ™/" style="font-size: 10px;">ARCè§„åˆ™</a><a href="/tags/Block/" style="font-size: 10px;">Block</a><a href="/tags/Data-Persistence/" style="font-size: 10px;">Data Persistence</a><a href="/tags/FMDB/" style="font-size: 10px;">FMDB</a><a href="/tags/Local-Romote-Notification/" style="font-size: 10px;">Local/Romote Notification</a><a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a><a href="/tags/SVN/" style="font-size: 10px;">SVN</a><a href="/tags/UIScorllView/" style="font-size: 10px;">UIScorllView</a><a href="/tags/UIView-Animation/" style="font-size: 10px;">UIView Animation</a><a href="/tags/UI-Notes/" style="font-size: 10px;">UI_Notes</a><a href="/tags/VIM-Sed/" style="font-size: 10px;">VIM_Sed</a><a href="/tags/accelerator-key/" style="font-size: 10px;">accelerator-key</a><a href="/tags/background-task/" style="font-size: 10px;">background_task</a><a href="/tags/c/" style="font-size: 10px;">c</a><a href="/tags/certificate/" style="font-size: 10px;">certificate</a><a href="/tags/cocoaPods/" style="font-size: 10px;">cocoaPods</a><a href="/tags/git/" style="font-size: 20px;">git</a><a href="/tags/iOSä¸­çš„ç½‘ç»œæ¡†æ¶/" style="font-size: 10px;">iOSä¸­çš„ç½‘ç»œæ¡†æ¶</a><a href="/tags/kinds-of-viewControllers/" style="font-size: 10px;">kinds of viewControllers</a><a href="/tags/navigationBarçš„åˆ·æ–°/" style="font-size: 10px;">navigationBarçš„åˆ·æ–°</a><a href="/tags/oc/" style="font-size: 10px;">oc</a><a href="/tags/setUpBlog/" style="font-size: 10px;">setUpBlog</a><a href="/tags/sqlite3å‘½ä»¤è¡Œå·¥å…·/" style="font-size: 10px;">sqlite3å‘½ä»¤è¡Œå·¥å…·</a><a href="/tags/ä¸€äº›å°çš„çŸ¥è¯†ç‚¹æ€»ç»“/" style="font-size: 10px;">ä¸€äº›å°çš„çŸ¥è¯†ç‚¹æ€»ç»“</a><a href="/tags/å…¬é’¥ç§é’¥åŠ å¯†/" style="font-size: 10px;">å…¬é’¥ç§é’¥åŠ å¯†</a><a href="/tags/å†…å­˜ç®¡ç†/" style="font-size: 10px;">å†…å­˜ç®¡ç†</a><a href="/tags/åŠ¨æ€è®¡ç®—UITableViewCellé«˜åº¦/" style="font-size: 10px;">åŠ¨æ€è®¡ç®—UITableViewCellé«˜åº¦</a><a href="/tags/å¤šçº¿ç¨‹/" style="font-size: 10px;">å¤šçº¿ç¨‹</a><a href="/tags/åª’ä½“é‡‡é›†/" style="font-size: 10px;">åª’ä½“é‡‡é›†</a><a href="/tags/å±å¹•ä¸Šç§»çš„æ–¹æ³•/" style="font-size: 10px;">å±å¹•ä¸Šç§»çš„æ–¹æ³•</a><a href="/tags/æ•°æ®è§£æXML/" style="font-size: 10px;">æ•°æ®è§£æXML</a><a href="/tags/é”®ç›˜æ”¶èµ·çš„æ–¹æ³•/" style="font-size: 10px;">é”®ç›˜æ”¶èµ·çš„æ–¹æ³•</a><a href="/tags/éŸ³é¢‘å¤„ç†/" style="font-size: 10px;">éŸ³é¢‘å¤„ç†</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/09/06/ä¸€äº›å°çš„çŸ¥è¯†ç‚¹æ€»ç»“/">çŸ¥è¯†ç‚¹æ€»ç»“</a>
          </li>
        
          <li>
            <a href="/2015/05/20/afnetworking/">AFNetworking</a>
          </li>
        
          <li>
            <a href="/2015/05/20/åŠ¨æ€è®¡ç®—UITableviewCellé«˜åº¦/">åŠ¨æ€è®¡ç®—UITableViewCellé«˜åº¦</a>
          </li>
        
          <li>
            <a href="/2015/05/15/ioså¤šåª’ä½“é‡‡é›†/">åª’ä½“é‡‡é›†</a>
          </li>
        
          <li>
            <a href="/2015/05/08/uiview_animation/">UIView Animation</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 ABeta<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>